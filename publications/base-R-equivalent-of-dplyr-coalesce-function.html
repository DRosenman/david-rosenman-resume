<!DOCTYPE html>
<!-- saved from url=(0089)https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/ -->
<html class=" js " dir="ltr" lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Base R Equivalents of dplyr Functions Part 1 – coalesce | R-bloggers</title>

		<!-- All in One SEO 4.5.9.2 - aioseo.com -->
		<meta name="description" content="The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4). lib...">
		<meta name="robots" content="max-image-preview:large">
		<link rel="canonical" href="https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/">
		<meta name="generator" content="All in One SEO (AIOSEO) 4.5.9.2">
		<meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="R-bloggers">
		<meta property="og:type" content="article">
		<meta property="og:title" content="Base R Equivalents of dplyr Functions Part 1 – coalesce | R-bloggers">
		<meta property="og:description" content="The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4). lib...">
		<meta property="og:url" content="https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/">
		<meta property="fb:admins" content="rbloggers">
		<meta property="og:image" content="https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png">
		<meta property="og:image:secure_url" content="https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png">
		<meta property="og:image:width" content="300">
		<meta property="og:image:height" content="101">
		<meta property="article:published_time" content="2024-05-16T04:00:00+00:00">
		<meta property="article:modified_time" content="2024-05-16T04:00:00+00:00">
		<meta property="article:publisher" content="https://www.facebook.com/rbloggers/">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@rbloggers">
		<meta name="twitter:title" content="Base R Equivalents of dplyr Functions Part 1 – coalesce | R-bloggers">
		<meta name="twitter:description" content="The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4). lib...">
		<meta name="twitter:image" content="https://www.r-bloggers.com/wp-content/uploads/2016/04/R_02_2016-05-01.png">
		<script type="text/javascript" async="" src="./base-R-equivalent-of-dplyr-coalesce-function_files/js" nonce="RysU23SE"></script><script src="./base-R-equivalent-of-dplyr-coalesce-function_files/f(3).txt" nonce="RysU23SE"></script><script src="./base-R-equivalent-of-dplyr-coalesce-function_files/sdk.js.download" async="" crossorigin="anonymous"></script><script src="./base-R-equivalent-of-dplyr-coalesce-function_files/f(4).txt"></script><script async="" src="./base-R-equivalent-of-dplyr-coalesce-function_files/analytics.js.download"></script><script type="application/ld+json" class="aioseo-schema">
			{"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#article","name":"Base R Equivalents of dplyr Functions Part 1 \u2013 coalesce | R-bloggers","headline":"Base R Equivalents of dplyr Functions Part 1 &#8211; coalesce","author":{"@id":"https:\/\/www.r-bloggers.com\/author\/dave-rosenman\/#author"},"publisher":{"@id":"https:\/\/www.r-bloggers.com\/#organization"},"image":{"@type":"ImageObject","url":"https:\/\/www.r-bloggers.com\/wp-content\/uploads\/2020\/07\/R_02.webp","@id":"https:\/\/www.r-bloggers.com\/#articleImage"},"datePublished":"2024-05-15T22:00:00-06:00","dateModified":"2024-05-15T22:00:00-06:00","inLanguage":"en-US","mainEntityOfPage":{"@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#webpage"},"isPartOf":{"@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#webpage"},"articleSection":"R bloggers"},{"@type":"BreadcrumbList","@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"https:\/\/www.r-bloggers.com\/#listItem","position":1,"name":"Home","item":"https:\/\/www.r-bloggers.com\/","nextItem":"https:\/\/www.r-bloggers.com\/2024\/#listItem"},{"@type":"ListItem","@id":"https:\/\/www.r-bloggers.com\/2024\/#listItem","position":2,"name":"2024","item":"https:\/\/www.r-bloggers.com\/2024\/","nextItem":"https:\/\/www.r-bloggers.com\/2024\/05\/#listItem","previousItem":"https:\/\/www.r-bloggers.com\/#listItem"},{"@type":"ListItem","@id":"https:\/\/www.r-bloggers.com\/2024\/05\/#listItem","position":3,"name":"May","item":"https:\/\/www.r-bloggers.com\/2024\/05\/","nextItem":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#listItem","previousItem":"https:\/\/www.r-bloggers.com\/2024\/#listItem"},{"@type":"ListItem","@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#listItem","position":4,"name":"Base R Equivalents of dplyr Functions Part 1 - coalesce","previousItem":"https:\/\/www.r-bloggers.com\/2024\/05\/#listItem"}]},{"@type":"Organization","@id":"https:\/\/www.r-bloggers.com\/#organization","name":"R-bloggers","url":"https:\/\/www.r-bloggers.com\/","logo":{"@type":"ImageObject","url":"https:\/\/www.r-bloggers.com\/wp-content\/uploads\/2020\/07\/R_02.webp","@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#organizationLogo"},"image":{"@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#organizationLogo"}},{"@type":"Person","@id":"https:\/\/www.r-bloggers.com\/author\/dave-rosenman\/#author","url":"https:\/\/www.r-bloggers.com\/author\/dave-rosenman\/","name":"Dave Rosenman"},{"@type":"WebPage","@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#webpage","url":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/","name":"Base R Equivalents of dplyr Functions Part 1 \u2013 coalesce | R-bloggers","description":"The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4). lib...","inLanguage":"en-US","isPartOf":{"@id":"https:\/\/www.r-bloggers.com\/#website"},"breadcrumb":{"@id":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/#breadcrumblist"},"author":{"@id":"https:\/\/www.r-bloggers.com\/author\/dave-rosenman\/#author"},"creator":{"@id":"https:\/\/www.r-bloggers.com\/author\/dave-rosenman\/#author"},"datePublished":"2024-05-15T22:00:00-06:00","dateModified":"2024-05-15T22:00:00-06:00"},{"@type":"WebSite","@id":"https:\/\/www.r-bloggers.com\/#website","url":"https:\/\/www.r-bloggers.com\/","name":"R-bloggers","description":"R news and tutorials contributed by hundreds of R bloggers","inLanguage":"en-US","publisher":{"@id":"https:\/\/www.r-bloggers.com\/#organization"}}]}
		</script>
		<!-- All in One SEO -->


<!-- Open Graph Meta Tags generated by MashShare 4.0.47 - https://mashshare.net -->
<meta property="og:type" content="article"> 
<meta property="og:title" content="Base R Equivalents of dplyr Functions Part 1 – coalesce">
<meta property="og:description" content="The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4).  lib...">
<meta property="og:url" content="https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/">
<meta property="og:site_name" content="R-bloggers">
<meta property="article:publisher" content="https://www.facebook.com/rbloggers/">
<meta property="article:published_time" content="2024-05-15T22:00:00-06:00">
<meta property="article:modified_time" content="2024-05-15T22:00:00-06:00">
<meta property="og:updated_time" content="2024-05-15T22:00:00-06:00">
<!-- Open Graph Meta Tags generated by MashShare 4.0.47 - https://www.mashshare.net -->
<!-- Twitter Card generated by MashShare 4.0.47 - https://www.mashshare.net -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Base R Equivalents of dplyr Functions Part 1 – coalesce">
<meta name="twitter:description" content="The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4).  lib...">
<meta name="twitter:site" content="@Rbloggers">
<!-- Twitter Card generated by MashShare 4.0.47 - https://www.mashshare.net -->

<link rel="dns-prefetch" href="https://s0.wp.com/">
<link rel="dns-prefetch" href="https://ajax.googleapis.com/">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="preconnect" href="https://www.google-analytics.com/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.r-bloggers.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.5.15"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="plugin_name-admin-ui-css-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery-ui.css" type="text/css" media="">
<link rel="stylesheet" id="tooltipster-css-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/tooltipster.bundle.min.css" type="text/css" media="all">
<link rel="stylesheet" id="tooltipster-css-theme-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/tooltipster-sideTip-light.min.css" type="text/css" media="all">
<link rel="stylesheet" id="material-design-css-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery.material.form.css" type="text/css" media="all">
<link rel="stylesheet" id="jquery-intl-phone-input-css-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/intlTelInput.min.css" type="text/css" media="all">
<link rel="stylesheet" id="snp_styles_reset-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/reset.min.css" type="text/css" media="all">
<link rel="stylesheet" id="fancybox2-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery.fancybox.min.css" type="text/css" media="all">
<link rel="stylesheet" id="snp_styles_theme6-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/theme6.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="mashsb-styles-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/mashsb.min.css" type="text/css" media="all">
<style id="mashsb-styles-inline-css" type="text/css">
.mashsb-count {color:#cccccc;}@media only screen and (min-width:568px){.mashsb-buttons a {min-width: 177px;}}
</style>
<link rel="stylesheet" id="wpt-twitter-feed-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/twitter-feed.css" type="text/css" media="all">
<style id="mh-google-fonts-css" media="all">/* cyrillic-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWV0ewJER.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWVQewJER.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* greek-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWVwewJER.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
/* greek */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWVMewJER.woff2) format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
/* hebrew */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWVIewJER.woff2) format('woff2');
  unicode-range: U+0307-0308, U+0590-05FF, U+200C-2010, U+20AA, U+25CC, U+FB1D-FB4F;
}
/* math */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWSwewJER.woff2) format('woff2');
  unicode-range: U+0302-0303, U+0305, U+0307-0308, U+0310, U+0312, U+0315, U+031A, U+0326-0327, U+032C, U+032F-0330, U+0332-0333, U+0338, U+033A, U+0346, U+034D, U+0391-03A1, U+03A3-03A9, U+03B1-03C9, U+03D1, U+03D5-03D6, U+03F0-03F1, U+03F4-03F5, U+2016-2017, U+2034-2038, U+203C, U+2040, U+2043, U+2047, U+2050, U+2057, U+205F, U+2070-2071, U+2074-208E, U+2090-209C, U+20D0-20DC, U+20E1, U+20E5-20EF, U+2100-2112, U+2114-2115, U+2117-2121, U+2123-214F, U+2190, U+2192, U+2194-21AE, U+21B0-21E5, U+21F1-21F2, U+21F4-2211, U+2213-2214, U+2216-22FF, U+2308-230B, U+2310, U+2319, U+231C-2321, U+2336-237A, U+237C, U+2395, U+239B-23B7, U+23D0, U+23DC-23E1, U+2474-2475, U+25AF, U+25B3, U+25B7, U+25BD, U+25C1, U+25CA, U+25CC, U+25FB, U+266D-266F, U+27C0-27FF, U+2900-2AFF, U+2B0E-2B11, U+2B30-2B4C, U+2BFE, U+3030, U+FF5B, U+FF5D, U+1D400-1D7FF, U+1EE00-1EEFF;
}
/* symbols */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWT4ewJER.woff2) format('woff2');
  unicode-range: U+0001-000C, U+000E-001F, U+007F-009F, U+20DD-20E0, U+20E2-20E4, U+2150-218F, U+2190, U+2192, U+2194-2199, U+21AF, U+21E6-21F0, U+21F3, U+2218-2219, U+2299, U+22C4-22C6, U+2300-243F, U+2440-244A, U+2460-24FF, U+25A0-27BF, U+2800-28FF, U+2921-2922, U+2981, U+29BF, U+29EB, U+2B00-2BFF, U+4DC0-4DFF, U+FFF9-FFFB, U+10140-1018E, U+10190-1019C, U+101A0, U+101D0-101FD, U+102E0-102FB, U+10E60-10E7E, U+1D2C0-1D2D3, U+1D2E0-1D37F, U+1F000-1F0FF, U+1F100-1F1AD, U+1F1E6-1F1FF, U+1F30D-1F30F, U+1F315, U+1F31C, U+1F31E, U+1F320-1F32C, U+1F336, U+1F378, U+1F37D, U+1F382, U+1F393-1F39F, U+1F3A7-1F3A8, U+1F3AC-1F3AF, U+1F3C2, U+1F3C4-1F3C6, U+1F3CA-1F3CE, U+1F3D4-1F3E0, U+1F3ED, U+1F3F1-1F3F3, U+1F3F5-1F3F7, U+1F408, U+1F415, U+1F41F, U+1F426, U+1F43F, U+1F441-1F442, U+1F444, U+1F446-1F449, U+1F44C-1F44E, U+1F453, U+1F46A, U+1F47D, U+1F4A3, U+1F4B0, U+1F4B3, U+1F4B9, U+1F4BB, U+1F4BF, U+1F4C8-1F4CB, U+1F4D6, U+1F4DA, U+1F4DF, U+1F4E3-1F4E6, U+1F4EA-1F4ED, U+1F4F7, U+1F4F9-1F4FB, U+1F4FD-1F4FE, U+1F503, U+1F507-1F50B, U+1F50D, U+1F512-1F513, U+1F53E-1F54A, U+1F54F-1F5FA, U+1F610, U+1F650-1F67F, U+1F687, U+1F68D, U+1F691, U+1F694, U+1F698, U+1F6AD, U+1F6B2, U+1F6B9-1F6BA, U+1F6BC, U+1F6C6-1F6CF, U+1F6D3-1F6D7, U+1F6E0-1F6EA, U+1F6F0-1F6F3, U+1F6F7-1F6FC, U+1F700-1F7FF, U+1F800-1F80B, U+1F810-1F847, U+1F850-1F859, U+1F860-1F887, U+1F890-1F8AD, U+1F8B0-1F8BB, U+1F8C0-1F8C1, U+1F900-1F90B, U+1F93B, U+1F946, U+1F984, U+1F996, U+1F9E9, U+1FA00-1FA6F, U+1FA70-1FA7C, U+1FA80-1FA89, U+1FA8F-1FAC6, U+1FACE-1FADC, U+1FADF-1FAE9, U+1FAF0-1FAF8, U+1FB00-1FBFF;
}
/* vietnamese */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWV8ewJER.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWV4ewJER.woff2) format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memQYaGs126MiZpBA-UFUIcVXSCEkx2cmqvXlWq8tWZ0Pw86hd0Rk8ZkWVAewA.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* cyrillic-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu1aB.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu1aB.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* greek-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu1aB.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
/* greek */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu1aB.woff2) format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
/* hebrew */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu1aB.woff2) format('woff2');
  unicode-range: U+0307-0308, U+0590-05FF, U+200C-2010, U+20AA, U+25CC, U+FB1D-FB4F;
}
/* math */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTVOmu1aB.woff2) format('woff2');
  unicode-range: U+0302-0303, U+0305, U+0307-0308, U+0310, U+0312, U+0315, U+031A, U+0326-0327, U+032C, U+032F-0330, U+0332-0333, U+0338, U+033A, U+0346, U+034D, U+0391-03A1, U+03A3-03A9, U+03B1-03C9, U+03D1, U+03D5-03D6, U+03F0-03F1, U+03F4-03F5, U+2016-2017, U+2034-2038, U+203C, U+2040, U+2043, U+2047, U+2050, U+2057, U+205F, U+2070-2071, U+2074-208E, U+2090-209C, U+20D0-20DC, U+20E1, U+20E5-20EF, U+2100-2112, U+2114-2115, U+2117-2121, U+2123-214F, U+2190, U+2192, U+2194-21AE, U+21B0-21E5, U+21F1-21F2, U+21F4-2211, U+2213-2214, U+2216-22FF, U+2308-230B, U+2310, U+2319, U+231C-2321, U+2336-237A, U+237C, U+2395, U+239B-23B7, U+23D0, U+23DC-23E1, U+2474-2475, U+25AF, U+25B3, U+25B7, U+25BD, U+25C1, U+25CA, U+25CC, U+25FB, U+266D-266F, U+27C0-27FF, U+2900-2AFF, U+2B0E-2B11, U+2B30-2B4C, U+2BFE, U+3030, U+FF5B, U+FF5D, U+1D400-1D7FF, U+1EE00-1EEFF;
}
/* symbols */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTUGmu1aB.woff2) format('woff2');
  unicode-range: U+0001-000C, U+000E-001F, U+007F-009F, U+20DD-20E0, U+20E2-20E4, U+2150-218F, U+2190, U+2192, U+2194-2199, U+21AF, U+21E6-21F0, U+21F3, U+2218-2219, U+2299, U+22C4-22C6, U+2300-243F, U+2440-244A, U+2460-24FF, U+25A0-27BF, U+2800-28FF, U+2921-2922, U+2981, U+29BF, U+29EB, U+2B00-2BFF, U+4DC0-4DFF, U+FFF9-FFFB, U+10140-1018E, U+10190-1019C, U+101A0, U+101D0-101FD, U+102E0-102FB, U+10E60-10E7E, U+1D2C0-1D2D3, U+1D2E0-1D37F, U+1F000-1F0FF, U+1F100-1F1AD, U+1F1E6-1F1FF, U+1F30D-1F30F, U+1F315, U+1F31C, U+1F31E, U+1F320-1F32C, U+1F336, U+1F378, U+1F37D, U+1F382, U+1F393-1F39F, U+1F3A7-1F3A8, U+1F3AC-1F3AF, U+1F3C2, U+1F3C4-1F3C6, U+1F3CA-1F3CE, U+1F3D4-1F3E0, U+1F3ED, U+1F3F1-1F3F3, U+1F3F5-1F3F7, U+1F408, U+1F415, U+1F41F, U+1F426, U+1F43F, U+1F441-1F442, U+1F444, U+1F446-1F449, U+1F44C-1F44E, U+1F453, U+1F46A, U+1F47D, U+1F4A3, U+1F4B0, U+1F4B3, U+1F4B9, U+1F4BB, U+1F4BF, U+1F4C8-1F4CB, U+1F4D6, U+1F4DA, U+1F4DF, U+1F4E3-1F4E6, U+1F4EA-1F4ED, U+1F4F7, U+1F4F9-1F4FB, U+1F4FD-1F4FE, U+1F503, U+1F507-1F50B, U+1F50D, U+1F512-1F513, U+1F53E-1F54A, U+1F54F-1F5FA, U+1F610, U+1F650-1F67F, U+1F687, U+1F68D, U+1F691, U+1F694, U+1F698, U+1F6AD, U+1F6B2, U+1F6B9-1F6BA, U+1F6BC, U+1F6C6-1F6CF, U+1F6D3-1F6D7, U+1F6E0-1F6EA, U+1F6F0-1F6F3, U+1F6F7-1F6FC, U+1F700-1F7FF, U+1F800-1F80B, U+1F810-1F847, U+1F850-1F859, U+1F860-1F887, U+1F890-1F8AD, U+1F8B0-1F8BB, U+1F8C0-1F8C1, U+1F900-1F90B, U+1F93B, U+1F946, U+1F984, U+1F996, U+1F9E9, U+1FA00-1FA6F, U+1FA70-1FA7C, U+1FA80-1FA89, U+1FA8F-1FAC6, U+1FACE-1FADC, U+1FADF-1FAE9, U+1FAF0-1FAF8, U+1FB00-1FBFF;
}
/* vietnamese */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu1aB.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu1aB.woff2) format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-muw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* cyrillic-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu1aB.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu1aB.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* greek-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu1aB.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
/* greek */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu1aB.woff2) format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
/* hebrew */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu1aB.woff2) format('woff2');
  unicode-range: U+0307-0308, U+0590-05FF, U+200C-2010, U+20AA, U+25CC, U+FB1D-FB4F;
}
/* math */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTVOmu1aB.woff2) format('woff2');
  unicode-range: U+0302-0303, U+0305, U+0307-0308, U+0310, U+0312, U+0315, U+031A, U+0326-0327, U+032C, U+032F-0330, U+0332-0333, U+0338, U+033A, U+0346, U+034D, U+0391-03A1, U+03A3-03A9, U+03B1-03C9, U+03D1, U+03D5-03D6, U+03F0-03F1, U+03F4-03F5, U+2016-2017, U+2034-2038, U+203C, U+2040, U+2043, U+2047, U+2050, U+2057, U+205F, U+2070-2071, U+2074-208E, U+2090-209C, U+20D0-20DC, U+20E1, U+20E5-20EF, U+2100-2112, U+2114-2115, U+2117-2121, U+2123-214F, U+2190, U+2192, U+2194-21AE, U+21B0-21E5, U+21F1-21F2, U+21F4-2211, U+2213-2214, U+2216-22FF, U+2308-230B, U+2310, U+2319, U+231C-2321, U+2336-237A, U+237C, U+2395, U+239B-23B7, U+23D0, U+23DC-23E1, U+2474-2475, U+25AF, U+25B3, U+25B7, U+25BD, U+25C1, U+25CA, U+25CC, U+25FB, U+266D-266F, U+27C0-27FF, U+2900-2AFF, U+2B0E-2B11, U+2B30-2B4C, U+2BFE, U+3030, U+FF5B, U+FF5D, U+1D400-1D7FF, U+1EE00-1EEFF;
}
/* symbols */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTUGmu1aB.woff2) format('woff2');
  unicode-range: U+0001-000C, U+000E-001F, U+007F-009F, U+20DD-20E0, U+20E2-20E4, U+2150-218F, U+2190, U+2192, U+2194-2199, U+21AF, U+21E6-21F0, U+21F3, U+2218-2219, U+2299, U+22C4-22C6, U+2300-243F, U+2440-244A, U+2460-24FF, U+25A0-27BF, U+2800-28FF, U+2921-2922, U+2981, U+29BF, U+29EB, U+2B00-2BFF, U+4DC0-4DFF, U+FFF9-FFFB, U+10140-1018E, U+10190-1019C, U+101A0, U+101D0-101FD, U+102E0-102FB, U+10E60-10E7E, U+1D2C0-1D2D3, U+1D2E0-1D37F, U+1F000-1F0FF, U+1F100-1F1AD, U+1F1E6-1F1FF, U+1F30D-1F30F, U+1F315, U+1F31C, U+1F31E, U+1F320-1F32C, U+1F336, U+1F378, U+1F37D, U+1F382, U+1F393-1F39F, U+1F3A7-1F3A8, U+1F3AC-1F3AF, U+1F3C2, U+1F3C4-1F3C6, U+1F3CA-1F3CE, U+1F3D4-1F3E0, U+1F3ED, U+1F3F1-1F3F3, U+1F3F5-1F3F7, U+1F408, U+1F415, U+1F41F, U+1F426, U+1F43F, U+1F441-1F442, U+1F444, U+1F446-1F449, U+1F44C-1F44E, U+1F453, U+1F46A, U+1F47D, U+1F4A3, U+1F4B0, U+1F4B3, U+1F4B9, U+1F4BB, U+1F4BF, U+1F4C8-1F4CB, U+1F4D6, U+1F4DA, U+1F4DF, U+1F4E3-1F4E6, U+1F4EA-1F4ED, U+1F4F7, U+1F4F9-1F4FB, U+1F4FD-1F4FE, U+1F503, U+1F507-1F50B, U+1F50D, U+1F512-1F513, U+1F53E-1F54A, U+1F54F-1F5FA, U+1F610, U+1F650-1F67F, U+1F687, U+1F68D, U+1F691, U+1F694, U+1F698, U+1F6AD, U+1F6B2, U+1F6B9-1F6BA, U+1F6BC, U+1F6C6-1F6CF, U+1F6D3-1F6D7, U+1F6E0-1F6EA, U+1F6F0-1F6F3, U+1F6F7-1F6FC, U+1F700-1F7FF, U+1F800-1F80B, U+1F810-1F847, U+1F850-1F859, U+1F860-1F887, U+1F890-1F8AD, U+1F8B0-1F8BB, U+1F8C0-1F8C1, U+1F900-1F90B, U+1F93B, U+1F946, U+1F984, U+1F996, U+1F9E9, U+1FA00-1FA6F, U+1FA70-1FA7C, U+1FA80-1FA89, U+1FA8F-1FAC6, U+1FACE-1FADC, U+1FADF-1FAE9, U+1FAF0-1FAF8, U+1FB00-1FBFF;
}
/* vietnamese */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu1aB.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu1aB.woff2) format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-muw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* cyrillic-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu1aB.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu1aB.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* greek-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu1aB.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
/* greek */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu1aB.woff2) format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
/* hebrew */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu1aB.woff2) format('woff2');
  unicode-range: U+0307-0308, U+0590-05FF, U+200C-2010, U+20AA, U+25CC, U+FB1D-FB4F;
}
/* math */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTVOmu1aB.woff2) format('woff2');
  unicode-range: U+0302-0303, U+0305, U+0307-0308, U+0310, U+0312, U+0315, U+031A, U+0326-0327, U+032C, U+032F-0330, U+0332-0333, U+0338, U+033A, U+0346, U+034D, U+0391-03A1, U+03A3-03A9, U+03B1-03C9, U+03D1, U+03D5-03D6, U+03F0-03F1, U+03F4-03F5, U+2016-2017, U+2034-2038, U+203C, U+2040, U+2043, U+2047, U+2050, U+2057, U+205F, U+2070-2071, U+2074-208E, U+2090-209C, U+20D0-20DC, U+20E1, U+20E5-20EF, U+2100-2112, U+2114-2115, U+2117-2121, U+2123-214F, U+2190, U+2192, U+2194-21AE, U+21B0-21E5, U+21F1-21F2, U+21F4-2211, U+2213-2214, U+2216-22FF, U+2308-230B, U+2310, U+2319, U+231C-2321, U+2336-237A, U+237C, U+2395, U+239B-23B7, U+23D0, U+23DC-23E1, U+2474-2475, U+25AF, U+25B3, U+25B7, U+25BD, U+25C1, U+25CA, U+25CC, U+25FB, U+266D-266F, U+27C0-27FF, U+2900-2AFF, U+2B0E-2B11, U+2B30-2B4C, U+2BFE, U+3030, U+FF5B, U+FF5D, U+1D400-1D7FF, U+1EE00-1EEFF;
}
/* symbols */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTUGmu1aB.woff2) format('woff2');
  unicode-range: U+0001-000C, U+000E-001F, U+007F-009F, U+20DD-20E0, U+20E2-20E4, U+2150-218F, U+2190, U+2192, U+2194-2199, U+21AF, U+21E6-21F0, U+21F3, U+2218-2219, U+2299, U+22C4-22C6, U+2300-243F, U+2440-244A, U+2460-24FF, U+25A0-27BF, U+2800-28FF, U+2921-2922, U+2981, U+29BF, U+29EB, U+2B00-2BFF, U+4DC0-4DFF, U+FFF9-FFFB, U+10140-1018E, U+10190-1019C, U+101A0, U+101D0-101FD, U+102E0-102FB, U+10E60-10E7E, U+1D2C0-1D2D3, U+1D2E0-1D37F, U+1F000-1F0FF, U+1F100-1F1AD, U+1F1E6-1F1FF, U+1F30D-1F30F, U+1F315, U+1F31C, U+1F31E, U+1F320-1F32C, U+1F336, U+1F378, U+1F37D, U+1F382, U+1F393-1F39F, U+1F3A7-1F3A8, U+1F3AC-1F3AF, U+1F3C2, U+1F3C4-1F3C6, U+1F3CA-1F3CE, U+1F3D4-1F3E0, U+1F3ED, U+1F3F1-1F3F3, U+1F3F5-1F3F7, U+1F408, U+1F415, U+1F41F, U+1F426, U+1F43F, U+1F441-1F442, U+1F444, U+1F446-1F449, U+1F44C-1F44E, U+1F453, U+1F46A, U+1F47D, U+1F4A3, U+1F4B0, U+1F4B3, U+1F4B9, U+1F4BB, U+1F4BF, U+1F4C8-1F4CB, U+1F4D6, U+1F4DA, U+1F4DF, U+1F4E3-1F4E6, U+1F4EA-1F4ED, U+1F4F7, U+1F4F9-1F4FB, U+1F4FD-1F4FE, U+1F503, U+1F507-1F50B, U+1F50D, U+1F512-1F513, U+1F53E-1F54A, U+1F54F-1F5FA, U+1F610, U+1F650-1F67F, U+1F687, U+1F68D, U+1F691, U+1F694, U+1F698, U+1F6AD, U+1F6B2, U+1F6B9-1F6BA, U+1F6BC, U+1F6C6-1F6CF, U+1F6D3-1F6D7, U+1F6E0-1F6EA, U+1F6F0-1F6F3, U+1F6F7-1F6FC, U+1F700-1F7FF, U+1F800-1F80B, U+1F810-1F847, U+1F850-1F859, U+1F860-1F887, U+1F890-1F8AD, U+1F8B0-1F8BB, U+1F8C0-1F8C1, U+1F900-1F90B, U+1F93B, U+1F946, U+1F984, U+1F996, U+1F9E9, U+1FA00-1FA6F, U+1FA70-1FA7C, U+1FA80-1FA89, U+1FA8F-1FAC6, U+1FACE-1FADC, U+1FADF-1FAE9, U+1FAF0-1FAF8, U+1FB00-1FBFF;
}
/* vietnamese */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu1aB.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu1aB.woff2) format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-muw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
/* cyrillic-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSKmu1aB.woff2) format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
/* cyrillic */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSumu1aB.woff2) format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
/* greek-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSOmu1aB.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
/* greek */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSymu1aB.woff2) format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
/* hebrew */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS2mu1aB.woff2) format('woff2');
  unicode-range: U+0307-0308, U+0590-05FF, U+200C-2010, U+20AA, U+25CC, U+FB1D-FB4F;
}
/* math */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTVOmu1aB.woff2) format('woff2');
  unicode-range: U+0302-0303, U+0305, U+0307-0308, U+0310, U+0312, U+0315, U+031A, U+0326-0327, U+032C, U+032F-0330, U+0332-0333, U+0338, U+033A, U+0346, U+034D, U+0391-03A1, U+03A3-03A9, U+03B1-03C9, U+03D1, U+03D5-03D6, U+03F0-03F1, U+03F4-03F5, U+2016-2017, U+2034-2038, U+203C, U+2040, U+2043, U+2047, U+2050, U+2057, U+205F, U+2070-2071, U+2074-208E, U+2090-209C, U+20D0-20DC, U+20E1, U+20E5-20EF, U+2100-2112, U+2114-2115, U+2117-2121, U+2123-214F, U+2190, U+2192, U+2194-21AE, U+21B0-21E5, U+21F1-21F2, U+21F4-2211, U+2213-2214, U+2216-22FF, U+2308-230B, U+2310, U+2319, U+231C-2321, U+2336-237A, U+237C, U+2395, U+239B-23B7, U+23D0, U+23DC-23E1, U+2474-2475, U+25AF, U+25B3, U+25B7, U+25BD, U+25C1, U+25CA, U+25CC, U+25FB, U+266D-266F, U+27C0-27FF, U+2900-2AFF, U+2B0E-2B11, U+2B30-2B4C, U+2BFE, U+3030, U+FF5B, U+FF5D, U+1D400-1D7FF, U+1EE00-1EEFF;
}
/* symbols */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTUGmu1aB.woff2) format('woff2');
  unicode-range: U+0001-000C, U+000E-001F, U+007F-009F, U+20DD-20E0, U+20E2-20E4, U+2150-218F, U+2190, U+2192, U+2194-2199, U+21AF, U+21E6-21F0, U+21F3, U+2218-2219, U+2299, U+22C4-22C6, U+2300-243F, U+2440-244A, U+2460-24FF, U+25A0-27BF, U+2800-28FF, U+2921-2922, U+2981, U+29BF, U+29EB, U+2B00-2BFF, U+4DC0-4DFF, U+FFF9-FFFB, U+10140-1018E, U+10190-1019C, U+101A0, U+101D0-101FD, U+102E0-102FB, U+10E60-10E7E, U+1D2C0-1D2D3, U+1D2E0-1D37F, U+1F000-1F0FF, U+1F100-1F1AD, U+1F1E6-1F1FF, U+1F30D-1F30F, U+1F315, U+1F31C, U+1F31E, U+1F320-1F32C, U+1F336, U+1F378, U+1F37D, U+1F382, U+1F393-1F39F, U+1F3A7-1F3A8, U+1F3AC-1F3AF, U+1F3C2, U+1F3C4-1F3C6, U+1F3CA-1F3CE, U+1F3D4-1F3E0, U+1F3ED, U+1F3F1-1F3F3, U+1F3F5-1F3F7, U+1F408, U+1F415, U+1F41F, U+1F426, U+1F43F, U+1F441-1F442, U+1F444, U+1F446-1F449, U+1F44C-1F44E, U+1F453, U+1F46A, U+1F47D, U+1F4A3, U+1F4B0, U+1F4B3, U+1F4B9, U+1F4BB, U+1F4BF, U+1F4C8-1F4CB, U+1F4D6, U+1F4DA, U+1F4DF, U+1F4E3-1F4E6, U+1F4EA-1F4ED, U+1F4F7, U+1F4F9-1F4FB, U+1F4FD-1F4FE, U+1F503, U+1F507-1F50B, U+1F50D, U+1F512-1F513, U+1F53E-1F54A, U+1F54F-1F5FA, U+1F610, U+1F650-1F67F, U+1F687, U+1F68D, U+1F691, U+1F694, U+1F698, U+1F6AD, U+1F6B2, U+1F6B9-1F6BA, U+1F6BC, U+1F6C6-1F6CF, U+1F6D3-1F6D7, U+1F6E0-1F6EA, U+1F6F0-1F6F3, U+1F6F7-1F6FC, U+1F700-1F7FF, U+1F800-1F80B, U+1F810-1F847, U+1F850-1F859, U+1F860-1F887, U+1F890-1F8AD, U+1F8B0-1F8BB, U+1F8C0-1F8C1, U+1F900-1F90B, U+1F93B, U+1F946, U+1F984, U+1F996, U+1F9E9, U+1FA00-1FA6F, U+1FA70-1FA7C, U+1FA80-1FA89, U+1FA8F-1FAC6, U+1FACE-1FADC, U+1FADF-1FAE9, U+1FAF0-1FAF8, U+1FB00-1FBFF;
}
/* vietnamese */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSCmu1aB.woff2) format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;
}
/* latin-ext */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTSGmu1aB.woff2) format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  font-stretch: 100%;
  font-display: swap;
  src: url(/fonts.gstatic.com/s/opensans/v44/memvYaGs126MiZpBA-UvWbX2vVnXBbObj2OVTS-muw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
</style>
<link rel="stylesheet" id="mh-style-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/jetpack.css" type="text/css" media="all">
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery.js.download" id="jquery-core-js"></script>
<script type="text/javascript" id="jetpack_related-posts-js-extra">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/related-posts.min.js.download" id="jetpack_related-posts-js"></script>
<script type="text/javascript" id="mashsb-js-extra">
/* <![CDATA[ */
var mashsb = {"shares":"0","round_shares":"1","animate_shares":"0","dynamic_buttons":"0","share_url":"https:\/\/www.r-bloggers.com\/2024\/05\/base-r-equivalents-of-dplyr-functions-part-1-coalesce\/","title":"Base+R+Equivalents+of+dplyr+Functions+Part+1+%E2%80%93+coalesce","image":null,"desc":" \n\n\n\n\n\nThe dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4).\n\nlib...","hashtag":"Rbloggers","subscribe":"link","subscribe_url":"https:\/\/feedburner.google.com\/fb\/a\/mailverify?uri=RBloggers","activestatus":"1","singular":"1","twitter_popup":"1","refresh":"0","nonce":"a93509d860","postid":"384372","servertime":"1723204424","ajaxurl":"https:\/\/www.r-bloggers.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/mashsb.min.js.download" id="mashsb-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/scripts.js.download" id="mh-scripts-js"></script>
<link rel="https://api.w.org/" href="https://www.r-bloggers.com/wp-json/"><link rel="alternate" type="application/json" href="https://www.r-bloggers.com/wp-json/wp/v2/posts/384372"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.r-bloggers.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.r-bloggers.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="AIC in the well-specified linear model: theory and simulation" href="https://www.r-bloggers.com/2024/05/aic-in-the-well-specified-linear-model-theory-and-simulation/">
<link rel="next" title="Shiny for Python Shinylive: How to Run Shiny for Python Apps Without a Python Server" href="https://www.r-bloggers.com/2024/05/shiny-for-python-shinylive-how-to-run-shiny-for-python-apps-without-a-python-server/">
<meta name="generator" content="WordPress 5.5.15">
<link rel="shortlink" href="https://www.r-bloggers.com/?p=384372">
<link rel="alternate" type="application/json+oembed" href="https://www.r-bloggers.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.r-bloggers.com%2F2024%2F05%2Fbase-r-equivalents-of-dplyr-functions-part-1-coalesce%2F">
<link rel="alternate" type="text/xml+oembed" href="https://www.r-bloggers.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.r-bloggers.com%2F2024%2F05%2Fbase-r-equivalents-of-dplyr-functions-part-1-coalesce%2F&amp;format=xml">

<link rel="dns-prefetch" href="https://i0.wp.com/">
<link rel="dns-prefetch" href="https://i1.wp.com/">
<link rel="dns-prefetch" href="https://i2.wp.com/">
<style type="text/css">img#wpstats{display:none}</style><!--[if lt IE 9]>
<script src="https://www.r-bloggers.com/wp-content/themes/mh-corporate-basic/js/css3-mediaqueries.js"></script>
<![endif]-->
<link rel="amphtml" href="https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/amp/">
<!-- WordPress Facebook Open Graph protocol plugin (WPFBOGP v2.0.13) http://rynoweb.com/wordpress-plugins/ -->
<meta property="fb:app_id" content="143207055763488">
<meta property="og:image" content="https://www.r-bloggers.com/wp-content/uploads/2016/08/R_single_01-200-1.png">
<!-- // end wpfbogp -->
<link rel="icon" href="https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2016/08/cropped-R_single_01-200.png?fit=32%2C32&amp;ssl=1" sizes="32x32">
<link rel="icon" href="https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2016/08/cropped-R_single_01-200.png?fit=192%2C192&amp;ssl=1" sizes="192x192">
<link rel="apple-touch-icon" href="https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2016/08/cropped-R_single_01-200.png?fit=180%2C180&amp;ssl=1">
<meta name="msapplication-TileImage" content="https://i0.wp.com/www.r-bloggers.com/wp-content/uploads/2016/08/cropped-R_single_01-200.png?fit=270%2C270&amp;ssl=1">
<link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/wp-emoji-release.min.js.download" as="script"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery.js.download" as="script"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/related-posts.min.js.download" as="script"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/mashsb.min.js.download" as="script"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/scripts.js.download" as="script"><link rel="preload" href="https://www.r-bloggers.com/wp-content/plugins/jetpack/modules/related-posts/related-posts.css?ver=20150408" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/tooltipster.bundle.min.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/tooltipster-sideTip-light.min.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery.material.form.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/intlTelInput.min.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/reset.min.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery.fancybox.min.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/theme6.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/style.min.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/mashsb.min.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/twitter-feed.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/style.css" as="style"><link rel="preload" href="./base-R-equivalent-of-dplyr-coalesce-function_files/jetpack.css" as="style"><meta http-equiv="origin-trial" content="AlK2UR5SkAlj8jjdEc9p3F3xuFYlF6LYjAML3EOqw1g26eCwWPjdmecULvBH5MVPoqKYrOfPhYVL71xAXI1IBQoAAAB8eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="Amm8/NmvvQfhwCib6I7ZsmUxiSCfOxWxHayJwyU1r3gRIItzr7bNQid6O8ZYaE1GSQTa69WwhPC9flq/oYkRBwsAAACCeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVmlld1hSZXF1ZXN0ZWRXaXRoRGVwcmVjYXRpb24iLCJleHBpcnkiOjE3NTgwNjcxOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="><meta http-equiv="origin-trial" content="A9nrunKdU5m96PSN1XsSGr3qOP0lvPFUB2AiAylCDlN5DTl17uDFkpQuHj1AFtgWLxpLaiBZuhrtb2WOu7ofHwEAAACKeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A93bovR+QVXNx2/38qDbmeYYf1wdte9EO37K9eMq3r+541qo0byhYU899BhPB7Cv9QqD7wIbR1B6OAc9kEfYCA4AAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A1S5fojrAunSDrFbD8OfGmFHdRFZymSM/1ss3G+NEttCLfHkXvlcF6LGLH8Mo5PakLO1sCASXU1/gQf6XGuTBgwAAACQeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQUlQcm9tcHRBUElNdWx0aW1vZGFsSW5wdXQiLCJleHBpcnkiOjE3NzQzMTA0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><script src="./base-R-equivalent-of-dplyr-coalesce-function_files/wp-emoji-release.min.js.download" type="text/javascript" defer=""></script><link rel="stylesheet" type="text/css" href="./base-R-equivalent-of-dplyr-coalesce-function_files/enlighterjs.min.css" media="all"><script src="./base-R-equivalent-of-dplyr-coalesce-function_files/enlighterjs.min.js.download" async=""></script><style type="text/css" data-fbcssmodules="css:fb.css.base css:fb.css.dialog css:fb.css.iframewidget">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0px;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:lucida grande,tahoma,verdana,arial,sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}

.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0px;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:lucida grande,tahoma,verdana,arial,sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:400;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}

.fb_dialog{background:#525252b3;position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://connect.facebook.net/rsrc.php/v4/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://connect.facebook.net/rsrc.php/v4/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://connect.facebook.net/rsrc.php/v4/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:700;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://connect.facebook.net/rsrc.php/v4/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://connect.facebook.net/rsrc.php/v4/ya/r/3rhSv5V8j3o.gif) #fff no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:#0006;inset:0;min-height:100%;position:absolute;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba),to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:#fff 0 1px 1px -1px inset;color:#fff;font:700 14px Helvetica,sans-serif;text-overflow:ellipsis;text-shadow:rgba(0,30,84,.296875) 0px -1px 0px;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2),to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:700 12px Helvetica,sans-serif;margin:2px -12px;padding:2px 6px 3px;text-shadow:rgba(0,30,84,.296875) 0px -1px 0px}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:700;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://connect.facebook.net/rsrc.php/v4/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4A4A4A;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4A4A4A;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://connect.facebook.net/rsrc.php/v4/y2/r/onuUJj0tCqE.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}

.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}
</style><link rel="prefetch" href="https://www.r-bloggers.com/"><link rel="prefetch" href="https://www.r-bloggers.com/about/"><link rel="prefetch" href="https://www.r-bloggers.com/add-your-blog/"><script async="" src="./base-R-equivalent-of-dplyr-coalesce-function_files/ca-pub-6149057907449803" nonce="RysU23SE"></script><script async="" src="./base-R-equivalent-of-dplyr-coalesce-function_files/AGSKWxXxRdaFXCpW4_AVdikzuYf3EFBJQUyE_NzEIiTqGiLbmLE7ChxtPVCAP7-xe1pwOYlPcqQaUNCp_bH3Ky5LCF8R0uQIAPDPgCdKyrambGs6gHFxyWWYhXPD6y2D1_6p" nonce="RysU23SE"></script><link rel="prefetch" href="https://www.r-bloggers.com/2015/12/how-to-learn-r-2/"><link rel="prefetch" href="https://www.r-bloggers.com/contact-us/"><link rel="prefetch" href="https://www.r-bloggers.com/author/dave-rosenman/"><script async="" src="./base-R-equivalent-of-dplyr-coalesce-function_files/AGSKWxVq3LgqOnFbIrwMydRcM2Nb0WoQe6EEUi_0oYgDlRxKMfc50lDeP3_5iqsxg_aurRilnx9qRG65kyVAuqQt2dPoO5srsOpuGscjPAgPe2KYYoZbdJdzLTmZxMoERD22" nonce="RysU23SE"></script><link rel="prefetch" href="https://www.r-bloggers.com/category/r-bloggers/"><link rel="prefetch" href="https://www.r-bloggers.com/2018/07/pca-vs-autoencoders-for-dimensionality-reduction/"><link rel="prefetch" href="https://www.r-bloggers.com/2022/01/how-to-install-and-update-r-and-rstudio/"><script async="" src="./base-R-equivalent-of-dplyr-coalesce-function_files/AGSKWxWyX-i_l-EycSxL-SamIGhRvp0SfVMpAKTz9DVj6RVs82HZcEa2U1eYJ0opo_MlRSDdSYJwA4MDdTceeAM_pOSZRaiUJbmf0CItu3VlvLuYTMFoUJfiFH4Jk6j1hivi" nonce="RysU23SE"></script><script async="" src="./base-R-equivalent-of-dplyr-coalesce-function_files/AGSKWxWCI1Rv8jFM_MmCz-N1I6RRv4quWspC-cY0zfhxKx94OW7vW7tIrJGLOKnjmOb9uCl__Uhl-Xj3Ybq0Aq0RJGyCkRLbRSsWH3XWHM2NBwI0XRt0c6QKYJ6wATbxenN2" nonce="RysU23SE"></script><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/charcuterie-what-if-strings-were-iterable-in-r/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/auto-xgboost-auto-lighgbm-auto-catboost-auto-gradientboosting/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/object-oriented-programming-in-r-part-4-reference-classes-r6-classes/"><link rel="prefetch" href="https://www.r-bloggers.com/2013/08/date-formats-in-r/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/06/remove-rows-from-dataframe-based-on-condition-in-r/"><link rel="prefetch" href="https://www.r-bloggers.com/privacy-policy/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/shiny-in-production-2024-full-speaker-lineup/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/how-to-check-if-a-string-contains-specific-characters-in-r-a-comprehensive-guide-with-base-r-string-stringi/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/powerquery-puzzle-solved-with-r-35/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/black-monday-crash/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/checking-if-a-workbook-is-open-using-vba-and-executing-from-r/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/r-solution-for-excel-puzzles-33/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/converting-text-to-uppercase-with-toupper-in-r/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/git-tricks-for-working-with-large-repositories/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/how-to-write-tests-with-shinytestserver-similar-to-shinytest2/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/systematic-sampleing-in-r-with-base-r/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/copenhagenr-the-2024-spring-season/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/08/r-consortium-grants-committee-announces-new-chair/"><link rel="prefetch" href="https://www.r-bloggers.com/blogs-list/"><link rel="prefetch" href="https://www.r-bloggers.com/how-to-learn-r-2/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/05/aic-in-the-well-specified-linear-model-theory-and-simulation/"><link rel="prefetch" href="https://www.r-bloggers.com/2024/05/shiny-for-python-shinylive-how-to-run-shiny-for-python-apps-without-a-python-server/"></head>
<body class="post-template-default single single-post postid-384372 single-format-standard" aria-hidden="false" style="margin-right: 0px;">
<div class="mh-container"><div class="slicknav_menu"><a href="https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#" aria-haspopup="true" tabindex="0" class="slicknav_btn slicknav_collapsed" style=""><span class="slicknav_menutxt">MENU</span><span class="slicknav_icon"><span class="slicknav_icon-bar"></span><span class="slicknav_icon-bar"></span><span class="slicknav_icon-bar"></span></span></a><nav class="slicknav_nav slicknav_hidden" aria-hidden="true" role="menu" style="display: none;">
		<div class="menu-top-nav-container"><ul class="menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-48314"><a href="https://www.r-bloggers.com/" role="menuitem">Home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-92333"><a href="https://www.r-bloggers.com/about/" role="menuitem">About</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-50111"><a href="https://feeds.feedburner.com/RBloggers" role="menuitem">RSS</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-48313"><a href="https://www.r-bloggers.com/add-your-blog/" role="menuitem">add your blog!</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-111419"><a href="https://www.r-bloggers.com/2015/12/how-to-learn-r-2/" role="menuitem">Learn R</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-75513 slicknav_collapsed slicknav_parent"><a href="https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#" role="menuitem" aria-haspopup="true" tabindex="-1" class="slicknav_item" style=""><a href="https://www.r-users.com/">R jobs</a>
<span class="slicknav_arrow">►</span></a><ul class="sub-menu slicknav_hidden" role="menu" aria-hidden="true" style="display: none;">
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-76945"><a href="https://www.r-users.com/submit-job/" role="menuitem" tabindex="-1">Submit a new job (it’s free)</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-76946"><a href="https://www.r-users.com/" role="menuitem" tabindex="-1">Browse latest jobs (also free)</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-48311"><a href="https://www.r-bloggers.com/contact-us/" role="menuitem">Contact us</a></li>
</ul></div>	</nav></div>
<div class="wrapper-corporate">
<header class="header-wrap">
	<a href="https://www.r-bloggers.com/" title="R-bloggers" rel="home">
<div class="logo-wrap" role="banner">
<img src="./base-R-equivalent-of-dplyr-coalesce-function_files/R_02.webp" height="90" width="290" alt="R-bloggers" scale="0">
<div class="logo logo-overlay">
<h1 class="logo-name">R-bloggers</h1>
<h2 class="logo-desc">R news and tutorials contributed by hundreds of R bloggers</h2>
</div>
</div>
</a>
	<nav class="main-nav clearfix">
		<div class="menu-top-nav-container"><ul id="menu-top-nav" class="menu"><li id="menu-item-48314" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-48314"><a href="https://www.r-bloggers.com/">Home</a></li>
<li id="menu-item-92333" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-92333"><a href="https://www.r-bloggers.com/about/">About</a></li>
<li id="menu-item-50111" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-50111"><a href="https://feeds.feedburner.com/RBloggers">RSS</a></li>
<li id="menu-item-48313" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-48313"><a href="https://www.r-bloggers.com/add-your-blog/">add your blog!</a></li>
<li id="menu-item-111419" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-111419"><a href="https://www.r-bloggers.com/2015/12/how-to-learn-r-2/">Learn R</a></li>
<li id="menu-item-75513" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-75513"><a href="https://www.r-users.com/">R jobs</a>
<ul class="sub-menu">
	<li id="menu-item-76945" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-76945"><a href="https://www.r-users.com/submit-job/">Submit a new job (it’s free)</a></li>
	<li id="menu-item-76946" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-76946"><a href="https://www.r-users.com/">Browse latest jobs (also free)</a></li>
</ul>
</li>
<li id="menu-item-48311" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-48311"><a href="https://www.r-bloggers.com/contact-us/">Contact us</a></li>
</ul></div>	</nav>
</header>
<div class="mh-wrapper clearfix">
	<div class="mh-content left"><article class="post-384372 post type-post status-publish format-standard hentry category-r-bloggers">
	<header class="post-header">
		<h1 class="entry-title">Base R Equivalents of dplyr Functions Part 1 – coalesce</h1>
		<p class="meta post-meta">Posted on <span class="updated">May 15, 2024</span>  by <span class="vcard author"><a class="fn" href="https://www.r-bloggers.com/author/dave-rosenman/">Dave Rosenman</a></span>  in <a href="https://www.r-bloggers.com/category/r-bloggers/" rel="category tag">R bloggers</a> | 0 Comments</p>
	</header>
	<div class="entry clearfix">
				<!-- 
<div style="min-height: 30px;">
[social4i size="small" align="align-left"]
</div>
-->

<div style="border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;">
[This article was first published on  <strong><a href="https://daveonr.com/posts/base-r-equivalents-of-dplyr-functions-part-1-coalesce/"> Dave On R</a></strong>, and kindly contributed to <a href="https://www.r-bloggers.com/" rel="nofollow">R-bloggers</a>].  (You can report issue about the content on this page <a href="https://www.r-bloggers.com/contact-us/">here</a>)
<hr>Want to share your content on R-bloggers?<a href="https://www.r-bloggers.com/add-your-blog/" rel="nofollow"> click here</a> if you have a blog, or <a href="http://r-posts.com/" rel="nofollow"> here</a> if you don't.
</div>
<aside class="mashsb-container mashsb-main mashsb-stretched"><div class="mashsb-box"><div class="mashsb-buttons"><a class="mashicon-facebook mash-large mash-center mashsb-noshadow" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fwww.r-bloggers.com%2F2024%2F05%2Fbase-r-equivalents-of-dplyr-functions-part-1-coalesce%2F" target="_blank" rel="nofollow"><span class="icon"></span><span class="text">Share</span></a><a class="mashicon-twitter mash-large mash-center mashsb-noshadow" href="https://twitter.com/intent/tweet?text=Base%20R%20Equivalents%20of%20dplyr%20Functions%20Part%201%20%E2%80%93%20coalesce&amp;url=https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/&amp;via=Rbloggers" target="_blank" rel="nofollow"><span class="icon"></span><span class="text">Tweet</span></a><div class="onoffswitch2 mash-large mashsb-noshadow" style="display:none"></div></div>
            </div>
                <div style="clear:both"></div></aside>
            <!-- Share buttons by mashshare.net - Version: 4.0.47--> 





<p>The dplyr <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> function is incredibly useful and similar to the SQL <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">COALESCE</span></span></div><code class="enlighter-origin">COALESCE</code> function. Given a set of vectors, it finds and keeps the first non-<div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> value at each position. For example, the following code returns the vector c(1, 2, 3, 4).</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">library</span><span class="enlighter-g1">(</span><span class="enlighter-text">dplyr</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, NA, </span><span class="enlighter-n1">3</span><span class="enlighter-text">, NA</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">2</span><span class="enlighter-text">, </span><span class="enlighter-n1">2</span><span class="enlighter-text">, </span><span class="enlighter-n1">4</span><span class="enlighter-text">, </span><span class="enlighter-n1">4</span><span class="enlighter-g1">))</span></div></div></div><div class="enlighter-raw">library(dplyr)
coalesce(c(1, NA, 3, NA), c(2, 2, 4, 4))</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">library(dplyr)
coalesce(c(1, NA, 3, NA), c(2, 2, 4, 4))</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">2</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">4</span></div></div></div><div class="enlighter-raw">[1] 1 2 3 4</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 2 3 4</pre>
</div>
</div>
<ul>
<li>At position 1, the first non-<div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> value is 1 (from the first vector).</li>
<li>At position 2, the first non-<div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> value is 2 (from the second vector, because the value at position 2 in the first vector is NA).</li>
<li>At position 3, the first non-<div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> value is 3 (from the first vector).</li>
<li>Finally, at position 4, the first non-<div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> value is 4 (from the second vector, because the value at position 4 in the first vector is NA).</li>
</ul>
<p>The <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> function is not limited to two vectors. You can use as many vectors as you’d like.</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, </span><span class="enlighter-n1">2</span><span class="enlighter-text">, NA, NA</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">3</span><span class="enlighter-text">, </span><span class="enlighter-n1">3</span><span class="enlighter-text">, </span><span class="enlighter-n1">3</span><span class="enlighter-text">, NA</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">4</span><span class="enlighter-text">, </span><span class="enlighter-n1">4</span><span class="enlighter-text">, </span><span class="enlighter-n1">4</span><span class="enlighter-text">, </span><span class="enlighter-n1">4</span><span class="enlighter-g1">))</span></div></div></div><div class="enlighter-raw">coalesce(c(1, 2, NA, NA), c(3, 3, 3, NA), c(4, 4, 4, 4))</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">coalesce(c(1, 2, NA, NA), c(3, 3, 3, NA), c(4, 4, 4, 4))</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">2</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">4</span></div></div></div><div class="enlighter-raw">[1] 1 2 3 4</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 2 3 4</pre>
</div>
</div>
<p>The vectors must be of equal length or length 1. Vectors of length 1 will be recycled. The following:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, NA, NA, </span><span class="enlighter-n1">5</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-n1">3</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">coalesce(c(1, NA, NA, 5), 3)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">coalesce(c(1, NA, NA, 5), 3)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">5</span></div></div></div><div class="enlighter-raw">[1] 1 3 3 5</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 3 3 5</pre>
</div>
</div>
<p>Is equivalent to:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">dplyr::</span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, NA, NA, </span><span class="enlighter-n1">5</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">3</span><span class="enlighter-text">, </span><span class="enlighter-n1">3</span><span class="enlighter-text">, </span><span class="enlighter-n1">3</span><span class="enlighter-text">, </span><span class="enlighter-n1">3</span><span class="enlighter-g1">))</span></div></div></div><div class="enlighter-raw">dplyr::coalesce(c(1, NA, NA, 5), c(3, 3, 3, 3))</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">dplyr::coalesce(c(1, NA, NA, 5), c(3, 3, 3, 3))</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">5</span></div></div></div><div class="enlighter-raw">[1] 1 3 3 5</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 3 3 5</pre>
</div>
</div>
<p>I most often use <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> to replace all <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> values in a vector with a single value. For example, the following code replaces all <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> values with 0:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, NA, NA, </span><span class="enlighter-n1">5</span><span class="enlighter-text">, </span><span class="enlighter-n1">6</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-n1">0</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">coalesce(c(1, NA, NA, 5, 6), 0)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">coalesce(c(1, NA, NA, 5, 6), 0)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">0</span><span class="enlighter-text"> </span><span class="enlighter-n1">0</span><span class="enlighter-text"> </span><span class="enlighter-n1">5</span><span class="enlighter-text"> </span><span class="enlighter-n1">6</span></div></div></div><div class="enlighter-raw">[1] 1 0 0 5 6</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 0 0 5 6</pre>
</div>
</div>
<p>Here are two alternative ways to do the same thing.</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">library</span><span class="enlighter-g1">(</span><span class="enlighter-text">tidyr</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">replace_na</span><span class="enlighter-g1">(</span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, NA, NA, </span><span class="enlighter-n1">5</span><span class="enlighter-text">, </span><span class="enlighter-n1">6</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-n1">0</span><span class="enlighter-g1">)</span><span class="enlighter-c0"> # this function is in the tidyr package</span></div></div></div><div class="enlighter-raw">library(tidyr)
replace_na(c(1, NA, NA, 5, 6), 0) # this function is in the tidyr package</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">library(tidyr)
replace_na(c(1, NA, NA, 5, 6), 0) # this function is in the tidyr package</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">0</span><span class="enlighter-text"> </span><span class="enlighter-n1">0</span><span class="enlighter-text"> </span><span class="enlighter-n1">5</span><span class="enlighter-text"> </span><span class="enlighter-n1">6</span></div></div></div><div class="enlighter-raw">[1] 1 0 0 5 6</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 0 0 5 6</pre>
</div>
</div>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">x </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, NA, NA, </span><span class="enlighter-n1">5</span><span class="enlighter-text">, </span><span class="enlighter-n1">6</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-n1">0</span><span class="enlighter-text">, x</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">x &lt;- c(1, NA, NA, 5, 6)
ifelse(is.na(x), 0, x)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">x &lt;- c(1, NA, NA, 5, 6)
ifelse(is.na(x), 0, x)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">0</span><span class="enlighter-text"> </span><span class="enlighter-n1">0</span><span class="enlighter-text"> </span><span class="enlighter-n1">5</span><span class="enlighter-text"> </span><span class="enlighter-n1">6</span></div></div></div><div class="enlighter-raw">[1] 1 0 0 5 6</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 0 0 5 6</pre>
</div>
</div>
<p>Of the three options I have shown so far, I prefer <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> and <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">replace_na</span></span></div><code class="enlighter-origin">replace_na</code>. (<div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> is a more general version of <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">replace_na</span></span></div><code class="enlighter-origin">replace_na</code>; <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">replace_na</span></span></div><code class="enlighter-origin">replace_na</code> takes a vector and a single value to replace the <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> values in that vector with). If you want to go outside of base R and the tidyverse, <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">data.</span><span class="enlighter-m3">table</span><span class="enlighter-text">::fcoalesce</span></span></div><code class="enlighter-origin">data.table::fcoalesce</code> is a much faster version of <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">dplyr::coalesce</span></span></div><code class="enlighter-origin">dplyr::coalesce</code>.</p>
<p>Let’s compare the speeds!</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">library</span><span class="enlighter-g1">(</span><span class="enlighter-text">microbenchmark</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">library</span><span class="enlighter-g1">(</span><span class="enlighter-text">data.</span><span class="enlighter-m3">table</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">set.</span><span class="enlighter-m3">seed</span><span class="enlighter-g1">(</span><span class="enlighter-n1">11</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">x </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-n1">1</span><span class="enlighter-text">:</span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">7</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">x</span><span class="enlighter-g1">[</span><span class="enlighter-m0">sample</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">:</span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">7</span><span class="enlighter-text">, size = </span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">6</span><span class="enlighter-text">, replace = </span><span class="enlighter-k1">FALSE</span><span class="enlighter-g1">)]</span><span class="enlighter-text"> </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- NA</span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">microbenchmark</span><span class="enlighter-g1">(</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-m0">fcoalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, 0L</span><span class="enlighter-g1">)</span><span class="enlighter-text">,</span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, 0L</span><span class="enlighter-g1">)</span><span class="enlighter-text">,</span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-m0">replace_na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, 0L</span><span class="enlighter-g1">)</span><span class="enlighter-text">,</span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, 0L, x</span><span class="enlighter-g1">)</span><span class="enlighter-text">,</span></div></div><div class=""><div><span class="enlighter-text">  times = </span><span class="enlighter-n1">5</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">library(microbenchmark)
library(data.table)
set.seed(11)
x &lt;- 1:10^7
x[sample(1:10^7, size = 10^6, replace = FALSE)] &lt;- NA
microbenchmark(
  fcoalesce(x, 0L),
  coalesce(x, 0L),
  replace_na(x, 0L),
  ifelse(is.na(x), 0L, x),
  times = 5
  )</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">library(microbenchmark)
library(data.table)
set.seed(11)
x &lt;- 1:10^7
x[sample(1:10^7, size = 10^6, replace = FALSE)] &lt;- NA
microbenchmark(
  fcoalesce(x, 0L),
  coalesce(x, 0L),
  replace_na(x, 0L),
  ifelse(is.na(x), 0L, x),
  times = 5
  )</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">Unit: milliseconds</span></div></div><div class=""><div><span class="enlighter-text">                    expr      min       lq      mean   median       uq      max</span></div></div><div class=""><div><span class="enlighter-text">        </span><span class="enlighter-m0">fcoalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, 0L</span><span class="enlighter-g1">)</span><span class="enlighter-text">  </span><span class="enlighter-n0">14.4582</span><span class="enlighter-text">  </span><span class="enlighter-n0">16.1549</span><span class="enlighter-text">  </span><span class="enlighter-n0">18.47224</span><span class="enlighter-text">  </span><span class="enlighter-n0">18.5650</span><span class="enlighter-text">  </span><span class="enlighter-n0">19.1356</span><span class="enlighter-text">  </span><span class="enlighter-n0">24.0475</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">         </span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, 0L</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-n0">285.4586</span><span class="enlighter-text"> </span><span class="enlighter-n0">289.1238</span><span class="enlighter-text"> </span><span class="enlighter-n0">318.36890</span><span class="enlighter-text"> </span><span class="enlighter-n0">292.7322</span><span class="enlighter-text"> </span><span class="enlighter-n0">297.1620</span><span class="enlighter-text"> </span><span class="enlighter-n0">427.3679</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">       </span><span class="enlighter-m0">replace_na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, 0L</span><span class="enlighter-g1">)</span><span class="enlighter-text">  </span><span class="enlighter-n0">37.2726</span><span class="enlighter-text">  </span><span class="enlighter-n0">41.0626</span><span class="enlighter-text">  </span><span class="enlighter-n0">51.48104</span><span class="enlighter-text">  </span><span class="enlighter-n0">41.4943</span><span class="enlighter-text">  </span><span class="enlighter-n0">52.0923</span><span class="enlighter-text">  </span><span class="enlighter-n0">85.4834</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, 0L, x</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-n0">168.9397</span><span class="enlighter-text"> </span><span class="enlighter-n0">178.8357</span><span class="enlighter-text"> </span><span class="enlighter-n0">191.00360</span><span class="enlighter-text"> </span><span class="enlighter-n0">180.9929</span><span class="enlighter-text"> </span><span class="enlighter-n0">186.2458</span><span class="enlighter-text"> </span><span class="enlighter-n0">240.0039</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"> neval</span></div></div><div class=""><div><span class="enlighter-text">     </span><span class="enlighter-n1">5</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">     </span><span class="enlighter-n1">5</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">     </span><span class="enlighter-n1">5</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">     </span><span class="enlighter-n1">5</span></div></div></div><div class="enlighter-raw">Unit: milliseconds
                    expr      min       lq      mean   median       uq      max
        fcoalesce(x, 0L)  14.4582  16.1549  18.47224  18.5650  19.1356  24.0475
         coalesce(x, 0L) 285.4586 289.1238 318.36890 292.7322 297.1620 427.3679
       replace_na(x, 0L)  37.2726  41.0626  51.48104  41.4943  52.0923  85.4834
 ifelse(is.na(x), 0L, x) 168.9397 178.8357 191.00360 180.9929 186.2458 240.0039
 neval
     5
     5
     5
     5</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">Unit: milliseconds
                    expr      min       lq      mean   median       uq      max
        fcoalesce(x, 0L)  14.4582  16.1549  18.47224  18.5650  19.1356  24.0475
         coalesce(x, 0L) 285.4586 289.1238 318.36890 292.7322 297.1620 427.3679
       replace_na(x, 0L)  37.2726  41.0626  51.48104  41.4943  52.0923  85.4834
 ifelse(is.na(x), 0L, x) 168.9397 178.8357 191.00360 180.9929 186.2458 240.0039
 neval
     5
     5
     5
     5</pre>
</div>
</div>
<p><div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">data.</span><span class="enlighter-m3">table</span><span class="enlighter-text">:fcoalesce</span></span></div><code class="enlighter-origin">data.table:fcoalesce</code> is the winner in terms of speed, followed by <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">replace_na</span></span></div><code class="enlighter-origin">replace_na</code>. Of the four methods above, <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> and <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">fcoalesce</span></span></div><code class="enlighter-origin">fcoalesce</code> are the most general, since they are not limited to replacing all <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> values with a single value.</p>
<p>Is there a base R equivalent to <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">dplyr::coalesce</span></span></div><code class="enlighter-origin">dplyr::coalesce</code>? No.&nbsp;But we can easily create one using just base R code.</p>
<p>To think about how we would do that, let’s start with two vectors:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">x </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, </span><span class="enlighter-n1">2</span><span class="enlighter-text">, NA, NA</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">y </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">2</span><span class="enlighter-text">, </span><span class="enlighter-n1">2</span><span class="enlighter-text">, </span><span class="enlighter-n1">3</span><span class="enlighter-text">, NA</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">x &lt;- c(1, 2, NA, NA)
y &lt;- c(2, 2, 3, NA)
coalesce(x, y)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">x &lt;- c(1, 2, NA, NA)
y &lt;- c(2, 2, 3, NA)
coalesce(x, y)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text">  </span><span class="enlighter-n1">1</span><span class="enlighter-text">  </span><span class="enlighter-n1">2</span><span class="enlighter-text">  </span><span class="enlighter-n1">3</span><span class="enlighter-text"> NA</span></div></div></div><div class="enlighter-raw">[1]  1  2  3 NA</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1]  1  2  3 NA</pre>
</div>
</div>
<p>How could we get the same results using the <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">ifelse</span></span></div><code class="enlighter-origin">ifelse</code> function? It’s simple. We return the value in <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">y</span></span></div><code class="enlighter-origin">y</code> when the value in <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">x</span></span></div><code class="enlighter-origin">x</code> is <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code>.</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, y, x</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">ifelse(is.na(x), y, x)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">ifelse(is.na(x), y, x)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text">  </span><span class="enlighter-n1">1</span><span class="enlighter-text">  </span><span class="enlighter-n1">2</span><span class="enlighter-text">  </span><span class="enlighter-n1">3</span><span class="enlighter-text"> NA</span></div></div></div><div class="enlighter-raw">[1]  1  2  3 NA</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1]  1  2  3 NA</pre>
</div>
</div>
<p>That’s simple enough. But what if we want to use three vectors?</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">z </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">4</span><span class="enlighter-text">, </span><span class="enlighter-n1">4</span><span class="enlighter-text">, </span><span class="enlighter-n1">4</span><span class="enlighter-text">, </span><span class="enlighter-n1">4</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">z &lt;- c(4, 4, 4, 4)
coalesce(x, y, z)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">z &lt;- c(4, 4, 4, 4)
coalesce(x, y, z)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">2</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">4</span></div></div></div><div class="enlighter-raw">[1] 1 2 3 4</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 2 3 4</pre>
</div>
</div>
<p>We can start with our code from the case where we used two vectors.</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">output_step_1 </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, y, x</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">output_step_1 &lt;- ifelse(is.na(x), y, x)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">output_step_1 &lt;- ifelse(is.na(x), y, x)</pre>
</div>
<p>When both <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">x</span></span></div><code class="enlighter-origin">x</code> and <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">y</span></span></div><code class="enlighter-origin">y</code> are <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code> (when <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, y, x</span><span class="enlighter-g1">)</span></span></div><code class="enlighter-origin">ifelse(is.na(x), y, x)</code> gives us <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">NA</span></span></div><code class="enlighter-origin">NA</code>), we want to use what is in z. Otherwise, we want to keep the results from step 1 above.</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">output_step_1</span><span class="enlighter-g1">)</span><span class="enlighter-text">, z, output_step_1</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">ifelse(is.na(output_step_1), z, output_step_1)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">ifelse(is.na(output_step_1), z, output_step_1)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">2</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">4</span></div></div></div><div class="enlighter-raw">[1] 1 2 3 4</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 2 3 4</pre>
</div>
</div>
<p>That worked! But what if we want to generalize this to any number of input vectors? We can use the base R function <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">Reduce</span></span></div><code class="enlighter-origin">Reduce</code>. For our case where we used <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">x</span></span></div><code class="enlighter-origin">x</code>, <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">y</span></span></div><code class="enlighter-origin">y</code>, and <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">z</span></span></div><code class="enlighter-origin">z</code>, we could do:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-m0">Reduce</span><span class="enlighter-g1">(</span><span class="enlighter-k1">function</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, y, x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-m0">list</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">))</span></div></div></div><div class="enlighter-raw"> Reduce(function(x, y) ifelse(is.na(x), y, x), list(x, y, z))</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin"> Reduce(function(x, y) ifelse(is.na(x), y, x), list(x, y, z))</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">2</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">4</span></div></div></div><div class="enlighter-raw">[1] 1 2 3 4</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 2 3 4</pre>
</div>
</div>
<p><div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-m0">Reduce</span><span class="enlighter-g1">(</span><span class="enlighter-text">f, </span><span class="enlighter-m0">list</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">))</span></span></div><code class="enlighter-origin">Reduce(f, list(x, y, z))</code>, where <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">f</span></span></div><code class="enlighter-origin">f</code> is a function of two variables, is the equivalent of <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-m0">f</span><span class="enlighter-g1">(</span><span class="enlighter-m0">f</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span><span class="enlighter-text">, z</span><span class="enlighter-g1">)</span></span></div><code class="enlighter-origin">f(f(x, y), z)</code>. And <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-m0">Reduce</span><span class="enlighter-g1">(</span><span class="enlighter-text">f, </span><span class="enlighter-m0">list</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z, a</span><span class="enlighter-g1">))</span></span></div><code class="enlighter-origin">Reduce(f, list(x, y, z, a))</code> is equivalent to <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-m0">f</span><span class="enlighter-g1">(</span><span class="enlighter-m0">f</span><span class="enlighter-g1">(</span><span class="enlighter-m0">f</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span><span class="enlighter-text">, z</span><span class="enlighter-g1">)</span><span class="enlighter-text">, a</span><span class="enlighter-g1">)</span></span></div><code class="enlighter-origin">f(f(f(x, y), z), a)</code>. The Reduce function is used to iteratively apply a function to elements of a list, reducing it to a single value. It takes a function with two parameters and applies it to the first two elements of the list, then applies the same function to the result and the next element, and so on, until all elements are combined into a single value.</p>
<p>To use <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">Reduce</span></span></div><code class="enlighter-origin">Reduce</code> to mimic <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z, ...</span><span class="enlighter-g1">)</span></span></div><code class="enlighter-origin">coalesce(x, y, z, ...)</code>, we need to apply the logic <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">f </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-k1">function</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-g1">{</span><span class="enlighter-text"> </span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, y, x</span><span class="enlighter-g1">)}</span></span></div><code class="enlighter-origin">f &lt;- function(x, y) { ifelse(is.na(x), y, x)}</code> over and over starting from left to right. In other words, for three vectors x, y, and z, we need to do:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">f </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-k1">function</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-g1">{</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, y, x</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-g1">}</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">f</span><span class="enlighter-g1">(</span><span class="enlighter-m0">f</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span><span class="enlighter-text">, z</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">f &lt;- function(x, y) {
  ifelse(is.na(x), y, x)
}
f(f(x, y), z)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">f &lt;- function(x, y) {
  ifelse(is.na(x), y, x)
}
f(f(x, y), z)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">2</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">4</span></div></div></div><div class="enlighter-raw">[1] 1 2 3 4</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 2 3 4</pre>
</div>
</div>
<p>Which is equivalent to</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">Reduce</span><span class="enlighter-g1">(</span><span class="enlighter-text">f, </span><span class="enlighter-m0">list</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">))</span></div></div></div><div class="enlighter-raw">Reduce(f, list(x, y, z))</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">Reduce(f, list(x, y, z))</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">2</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">4</span></div></div></div><div class="enlighter-raw">[1] 1 2 3 4</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 2 3 4</pre>
</div>
</div>
<p>So a very simple base R function equivalent to the <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> function is:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">coalesce_base_r </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-k1">function</span><span class="enlighter-g1">(</span><span class="enlighter-text">...</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-g1">{</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  args </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">list</span><span class="enlighter-g1">(</span><span class="enlighter-text">...</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-m0">Reduce</span><span class="enlighter-g1">(</span><span class="enlighter-k1">function</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, y, x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, args</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-g1">}</span></div></div></div><div class="enlighter-raw">coalesce_base_r &lt;- function(...) {
  args &lt;- list(...)
  Reduce(function(x, y) ifelse(is.na(x), y, x), args)
}</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">coalesce_base_r &lt;- function(...) {
  args &lt;- list(...)
  Reduce(function(x, y) ifelse(is.na(x), y, x), args)
}</pre>
</div>
<p>Let’s see if it produces identical results to <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">dplyr::coalesce</span></span></div><code class="enlighter-origin">dplyr::coalesce</code>:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">set.</span><span class="enlighter-m3">seed</span><span class="enlighter-g1">(</span><span class="enlighter-n1">11</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">x </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-n1">1</span><span class="enlighter-text">:</span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">7</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">y </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-n1">1</span><span class="enlighter-text">:</span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">7</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">x</span><span class="enlighter-g1">[</span><span class="enlighter-m0">sample</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">:</span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">7</span><span class="enlighter-text">, size = </span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">6</span><span class="enlighter-text">, replace = </span><span class="enlighter-k1">FALSE</span><span class="enlighter-g1">)]</span><span class="enlighter-text"> </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- NA</span></div></div><div class=""><div><span class="enlighter-text">y</span><span class="enlighter-g1">[</span><span class="enlighter-m0">sample</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">:</span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">7</span><span class="enlighter-text">, size = </span><span class="enlighter-n1">10</span><span class="enlighter-text">^</span><span class="enlighter-n1">6</span><span class="enlighter-text">, replace = </span><span class="enlighter-k1">FALSE</span><span class="enlighter-g1">)]</span><span class="enlighter-text"> </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- NA</span></div></div><div class=""><div><span class="enlighter-text">z </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- 1L</span></div></div><div class=""><div><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">dplyr_result </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">base_r_result </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">coalesce_base_r</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">identical</span><span class="enlighter-g1">(</span><span class="enlighter-text">dplyr_result, base_r_result</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">set.seed(11)
x &lt;- 1:10^7
y &lt;- 1:10^7
x[sample(1:10^7, size = 10^6, replace = FALSE)] &lt;- NA
y[sample(1:10^7, size = 10^6, replace = FALSE)] &lt;- NA
z &lt;- 1L

dplyr_result &lt;- coalesce(x, y, z)
base_r_result &lt;- coalesce_base_r(x, y, z)
identical(dplyr_result, base_r_result)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">set.seed(11)
x &lt;- 1:10^7
y &lt;- 1:10^7
x[sample(1:10^7, size = 10^6, replace = FALSE)] &lt;- NA
y[sample(1:10^7, size = 10^6, replace = FALSE)] &lt;- NA
z &lt;- 1L

dplyr_result &lt;- coalesce(x, y, z)
base_r_result &lt;- coalesce_base_r(x, y, z)
identical(dplyr_result, base_r_result)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> TRUE</span></div></div></div><div class="enlighter-raw">[1] TRUE</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] TRUE</pre>
</div>
</div>
<p>We get identical results!</p>
<p>Let’s compare the speed:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">microbenchmark</span><span class="enlighter-g1">(</span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-m0">coalesce_base_r</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text">, times = </span><span class="enlighter-n1">5</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">microbenchmark(coalesce(x, y, z), coalesce_base_r(x, y, z), times = 5)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">microbenchmark(coalesce(x, y, z), coalesce_base_r(x, y, z), times = 5)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">Unit: milliseconds</span></div></div><div class=""><div><span class="enlighter-text">                     expr      min       lq     mean   median       uq     max</span></div></div><div class=""><div><span class="enlighter-text">        </span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-n0">299.6434</span><span class="enlighter-text"> </span><span class="enlighter-n0">321.6311</span><span class="enlighter-text"> </span><span class="enlighter-n0">355.9083</span><span class="enlighter-text"> </span><span class="enlighter-n0">357.0767</span><span class="enlighter-text"> </span><span class="enlighter-n0">385.4815</span><span class="enlighter-text"> </span><span class="enlighter-n0">415.709</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-m0">coalesce_base_r</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-n0">349.0094</span><span class="enlighter-text"> </span><span class="enlighter-n0">406.5152</span><span class="enlighter-text"> </span><span class="enlighter-n0">400.0490</span><span class="enlighter-text"> </span><span class="enlighter-n0">412.2628</span><span class="enlighter-text"> </span><span class="enlighter-n0">413.9706</span><span class="enlighter-text"> </span><span class="enlighter-n0">418.487</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"> neval</span></div></div><div class=""><div><span class="enlighter-text">     </span><span class="enlighter-n1">5</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">     </span><span class="enlighter-n1">5</span></div></div></div><div class="enlighter-raw">Unit: milliseconds
                     expr      min       lq     mean   median       uq     max
        coalesce(x, y, z) 299.6434 321.6311 355.9083 357.0767 385.4815 415.709
 coalesce_base_r(x, y, z) 349.0094 406.5152 400.0490 412.2628 413.9706 418.487
 neval
     5
     5</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">Unit: milliseconds
                     expr      min       lq     mean   median       uq     max
        coalesce(x, y, z) 299.6434 321.6311 355.9083 357.0767 385.4815 415.709
 coalesce_base_r(x, y, z) 349.0094 406.5152 400.0490 412.2628 413.9706 418.487
 neval
     5
     5</pre>
</div>
</div>
<p>Our base R version of <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> is almost identical in speed dplyr’s!</p>
<p>But our function contains some flaws. dplyr’s <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code> function forces the vectors passed to it to either be of the same length or be of length 1. If we try:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, </span><span class="enlighter-n1">2</span><span class="enlighter-text">, </span><span class="enlighter-n1">3</span><span class="enlighter-text">, NA, </span><span class="enlighter-n1">6</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">4</span><span class="enlighter-text">, </span><span class="enlighter-n1">5</span><span class="enlighter-g1">))</span></div></div></div><div class="enlighter-raw">coalesce(c(1, 2, 3, NA, 6), c(4, 5))</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">coalesce(c(1, 2, 3, NA, 6), c(4, 5))</pre>
<div class="cell-output cell-output-error">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">Error </span><span class="enlighter-k1">in</span><span class="enlighter-text"> `</span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">()</span><span class="enlighter-text">`:</span></div></div><div class=""><div><span class="enlighter-text">! Can't recycle `.</span><span class="enlighter-n0">.1</span><span class="enlighter-text">` </span><span class="enlighter-g1">(</span><span class="enlighter-text">size </span><span class="enlighter-n1">5</span><span class="enlighter-g1">)</span><span class="enlighter-text"> to match `.</span><span class="enlighter-n0">.2</span><span class="enlighter-text">` </span><span class="enlighter-g1">(</span><span class="enlighter-text">size </span><span class="enlighter-n1">2</span><span class="enlighter-g1">)</span><span class="enlighter-text">.</span></div></div></div><div class="enlighter-raw">Error in `coalesce()`:
! Can't recycle `..1` (size 5) to match `..2` (size 2).</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">Error in `coalesce()`:
! Can't recycle `..1` (size 5) to match `..2` (size 2).</pre>
</div>
</div>
<p>We get an error, since the first vector has length 5 and the second has length 2.</p>
<p>Here’s a better base R version of <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">coalesce</span></span></div><code class="enlighter-origin">coalesce</code>:</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">coalesce_base </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-k1">function</span><span class="enlighter-g1">(</span><span class="enlighter-text">...</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-g1">{</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  args </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">list</span><span class="enlighter-g1">(</span><span class="enlighter-text">...</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-c0"> # Check for NULL, zero-length vectors, and collect lengths</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  lengths </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">sapply</span><span class="enlighter-g1">(</span><span class="enlighter-text">args, </span><span class="enlighter-k1">function</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-g1">{</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">    </span><span class="enlighter-k1">if</span><span class="enlighter-text"> </span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">null</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-g0">||</span><span class="enlighter-text"> </span><span class="enlighter-m0">length</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text"> == </span><span class="enlighter-n1">0</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-g1">{</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">      </span><span class="enlighter-m0">stop</span><span class="enlighter-g1">(</span><span class="enlighter-s0">"Arguments must not be NULL or zero-length vectors"</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">    </span><span class="enlighter-g1">}</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">    </span><span class="enlighter-m0">length</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-g1">})</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-c0"> # Determine the maximum length</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  max_length </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">max</span><span class="enlighter-g1">(</span><span class="enlighter-text">lengths</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-c0"> # Check if lengths are consistent. </span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-c0"> # Only allow vectors of length equal to max length or length of 1</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-k1">if</span><span class="enlighter-text"> </span><span class="enlighter-g1">(</span><span class="enlighter-m0">any</span><span class="enlighter-g1">(</span><span class="enlighter-text">lengths != max_length </span><span class="enlighter-g0">&amp;</span><span class="enlighter-text"> lengths != </span><span class="enlighter-n1">1</span><span class="enlighter-g1">))</span><span class="enlighter-text"> </span><span class="enlighter-g1">{</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">    </span><span class="enlighter-m0">stop</span><span class="enlighter-g1">(</span><span class="enlighter-s0">"All arguments must have the same length, </span></div></div><div class=""><div><span class="enlighter-s0">         except for vectors of length 1 which can be recycled"</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-g1">}</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-c0"> # Use Reduce with ifelse to coalesce</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-m0">Reduce</span><span class="enlighter-g1">(</span><span class="enlighter-k1">function</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-m0">ifelse</span><span class="enlighter-g1">(</span><span class="enlighter-text">is.</span><span class="enlighter-m3">na</span><span class="enlighter-g1">(</span><span class="enlighter-text">x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, y, x</span><span class="enlighter-g1">)</span><span class="enlighter-text">, args</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-g1">}</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-c0"></span></div></div><div class=""><div><span class="enlighter-c0"># Example usage:</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">v1 </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-text">NA, </span><span class="enlighter-n1">2</span><span class="enlighter-text">, NA, </span><span class="enlighter-n1">4</span><span class="enlighter-text">, NA</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">v2 </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-m0">c</span><span class="enlighter-g1">(</span><span class="enlighter-n1">1</span><span class="enlighter-text">, NA, </span><span class="enlighter-n1">3</span><span class="enlighter-text">, NA, NA</span><span class="enlighter-g1">)</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">v3 </span><span class="enlighter-g1">&lt;</span><span class="enlighter-text">- </span><span class="enlighter-n1">0</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"></span><span class="enlighter-m0">coalesce_base</span><span class="enlighter-g1">(</span><span class="enlighter-text">v1, v2, v3</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">coalesce_base &lt;- function(...) {
  args &lt;- list(...)
  
  # Check for NULL, zero-length vectors, and collect lengths
  lengths &lt;- sapply(args, function(x) {
    if (is.null(x) || length(x) == 0) {
      stop("Arguments must not be NULL or zero-length vectors")
    }
    length(x)
  })
  
  # Determine the maximum length
  max_length &lt;- max(lengths)
  
  # Check if lengths are consistent. 
  # Only allow vectors of length equal to max length or length of 1
  if (any(lengths != max_length &amp; lengths != 1)) {
    stop("All arguments must have the same length, 
         except for vectors of length 1 which can be recycled")
  }
  
  # Use Reduce with ifelse to coalesce
  Reduce(function(x, y) ifelse(is.na(x), y, x), args)
}

# Example usage:
v1 &lt;- c(NA, 2, NA, 4, NA)
v2 &lt;- c(1, NA, 3, NA, NA)
v3 &lt;- 0

coalesce_base(v1, v2, v3)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">coalesce_base &lt;- function(...) {
  args &lt;- list(...)
  
  # Check for NULL, zero-length vectors, and collect lengths
  lengths &lt;- sapply(args, function(x) {
    if (is.null(x) || length(x) == 0) {
      stop("Arguments must not be NULL or zero-length vectors")
    }
    length(x)
  })
  
  # Determine the maximum length
  max_length &lt;- max(lengths)
  
  # Check if lengths are consistent. 
  # Only allow vectors of length equal to max length or length of 1
  if (any(lengths != max_length &amp; lengths != 1)) {
    stop("All arguments must have the same length, 
         except for vectors of length 1 which can be recycled")
  }
  
  # Use Reduce with ifelse to coalesce
  Reduce(function(x, y) ifelse(is.na(x), y, x), args)
}

# Example usage:
v1 &lt;- c(NA, 2, NA, 4, NA)
v2 &lt;- c(1, NA, 3, NA, NA)
v3 &lt;- 0

coalesce_base(v1, v2, v3)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-g1">[</span><span class="enlighter-n1">1</span><span class="enlighter-g1">]</span><span class="enlighter-text"> </span><span class="enlighter-n1">1</span><span class="enlighter-text"> </span><span class="enlighter-n1">2</span><span class="enlighter-text"> </span><span class="enlighter-n1">3</span><span class="enlighter-text"> </span><span class="enlighter-n1">4</span><span class="enlighter-text"> </span><span class="enlighter-n1">0</span></div></div></div><div class="enlighter-raw">[1] 1 2 3 4 0</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">[1] 1 2 3 4 0</pre>
</div>
</div>
<p>Again, let’s compare the speed of our function to <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">dplyr::coalesce</span></span></div><code class="enlighter-origin">dplyr::coalesce</code> and <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">data.</span><span class="enlighter-m3">table</span><span class="enlighter-text">::fcoalesce</span></span></div><code class="enlighter-origin">data.table::fcoalesce</code>.</p>
<div class="cell">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-m0">microbenchmark</span><span class="enlighter-g1">(</span><span class="enlighter-m0">fcoalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text">,</span></div></div><div class=""><div><span class="enlighter-text">               </span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span></div></div><div class=""><div><span class="enlighter-text">               </span><span class="enlighter-m0">coalesce_base_r</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text">, </span></div></div><div class=""><div><span class="enlighter-text">               times = </span><span class="enlighter-n1">5</span><span class="enlighter-g1">)</span></div></div></div><div class="enlighter-raw">microbenchmark(fcoalesce(x, y, z),
               coalesce(x, y, z), 
               coalesce_base_r(x, y, z), 
               times = 5)</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">microbenchmark(fcoalesce(x, y, z),
               coalesce(x, y, z), 
               coalesce_base_r(x, y, z), 
               times = 5)</pre>
<div class="cell-output cell-output-stdout">
<div class="enlighter-default enlighter-v-standard enlighter-t-enlighter enlighter-hover enlighter-overflow-scroll "><div class="enlighter-toolbar-top enlighter-toolbar"><div class="enlighter-btn enlighter-btn-raw" title="Plain text"></div><div class="enlighter-btn enlighter-btn-copy" title="Copy to clipboard"></div><div class="enlighter-btn enlighter-btn-window" title="Open code in new window"></div><div class="enlighter-btn enlighter-btn-website" title="EnlighterJS 3 Syntax Highlighter"></div></div><div class="enlighter" style=""><div class=""><div><span class="enlighter-text">Unit: milliseconds</span></div></div><div class=""><div><span class="enlighter-text">                     expr      min       lq      mean   median       uq</span></div></div><div class=""><div><span class="enlighter-text">       </span><span class="enlighter-m0">fcoalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text">  </span><span class="enlighter-n0">16.9233</span><span class="enlighter-text">  </span><span class="enlighter-n0">17.5952</span><span class="enlighter-text">  </span><span class="enlighter-n0">19.12082</span><span class="enlighter-text">  </span><span class="enlighter-n0">17.6570</span><span class="enlighter-text">  </span><span class="enlighter-n0">19.5384</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">        </span><span class="enlighter-m0">coalesce</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-n0">304.2171</span><span class="enlighter-text"> </span><span class="enlighter-n0">321.0251</span><span class="enlighter-text"> </span><span class="enlighter-n0">343.79622</span><span class="enlighter-text"> </span><span class="enlighter-n0">355.3758</span><span class="enlighter-text"> </span><span class="enlighter-n0">358.6747</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-m0">coalesce_base_r</span><span class="enlighter-g1">(</span><span class="enlighter-text">x, y, z</span><span class="enlighter-g1">)</span><span class="enlighter-text"> </span><span class="enlighter-n0">344.0853</span><span class="enlighter-text"> </span><span class="enlighter-n0">357.0263</span><span class="enlighter-text"> </span><span class="enlighter-n0">383.64736</span><span class="enlighter-text"> </span><span class="enlighter-n0">386.5437</span><span class="enlighter-text"> </span><span class="enlighter-n0">388.1294</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text">      max neval</span></div></div><div class=""><div><span class="enlighter-text">  </span><span class="enlighter-n0">23.8902</span><span class="enlighter-text">     </span><span class="enlighter-n1">5</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-n0">379.6884</span><span class="enlighter-text">     </span><span class="enlighter-n1">5</span><span class="enlighter-text"></span></div></div><div class=""><div><span class="enlighter-text"> </span><span class="enlighter-n0">442.4521</span><span class="enlighter-text">     </span><span class="enlighter-n1">5</span></div></div></div><div class="enlighter-raw">Unit: milliseconds
                     expr      min       lq      mean   median       uq
       fcoalesce(x, y, z)  16.9233  17.5952  19.12082  17.6570  19.5384
        coalesce(x, y, z) 304.2171 321.0251 343.79622 355.3758 358.6747
 coalesce_base_r(x, y, z) 344.0853 357.0263 383.64736 386.5437 388.1294
      max neval
  23.8902     5
 379.6884     5
 442.4521     5</div><div class="enlighter-toolbar-bottom enlighter-toolbar"></div></div><pre class="enlighter-origin">Unit: milliseconds
                     expr      min       lq      mean   median       uq
       fcoalesce(x, y, z)  16.9233  17.5952  19.12082  17.6570  19.5384
        coalesce(x, y, z) 304.2171 321.0251 343.79622 355.3758 358.6747
 coalesce_base_r(x, y, z) 344.0853 357.0263 383.64736 386.5437 388.1294
      max neval
  23.8902     5
 379.6884     5
 442.4521     5</pre>
</div>
</div>
<p><div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">data.</span><span class="enlighter-m3">table</span><span class="enlighter-text">::fcoalesce</span></span></div><code class="enlighter-origin">data.table::fcoalesce</code> is the clear winner when it comes to speed! Our function is almost identical in speed to <div class="enlighter-default enlighter-v-inline enlighter-t-enlighter "><span class="enlighter"><span class="enlighter-text">dplyr::coalesce</span></span></div><code class="enlighter-origin">dplyr::coalesce</code>!</p>



 
<div id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div><aside class="mashsb-container mashsb-main mashsb-stretched"><div class="mashsb-box"><div class="mashsb-buttons"><a class="mashicon-facebook mash-large mash-center mashsb-noshadow" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fwww.r-bloggers.com%2F2024%2F05%2Fbase-r-equivalents-of-dplyr-functions-part-1-coalesce%2F" target="_blank" rel="nofollow"><span class="icon"></span><span class="text">Share</span></a><a class="mashicon-twitter mash-large mash-center mashsb-noshadow" href="https://twitter.com/intent/tweet?text=Base%20R%20Equivalents%20of%20dplyr%20Functions%20Part%201%20%E2%80%93%20coalesce&amp;url=https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/&amp;via=Rbloggers" target="_blank" rel="nofollow"><span class="icon"></span><span class="text">Tweet</span></a><div class="onoffswitch2 mash-large mashsb-noshadow" style="display:none"></div></div>
            </div>
                <div style="clear:both"></div></aside>
            <!-- Share buttons by mashshare.net - Version: 4.0.47-->
<div style="border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;">
<div style="text-align: center;">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href="https://daveonr.com/posts/base-r-equivalents-of-dplyr-functions-part-1-coalesce/"> Dave On R</a></strong>.</div>
<hr>
<a href="https://www.r-bloggers.com/" rel="nofollow">R-bloggers.com</a> offers <strong><a href="https://feedburner.google.com/fb/a/mailverify?uri=RBloggers" rel="nofollow">daily e-mail updates</a></strong> about <a title="The R Project for Statistical Computing" href="https://www.r-project.org/" rel="nofollow">R</a> news and tutorials about <a title="R tutorials" href="https://www.r-bloggers.com/how-to-learn-r-2/" rel="nofollow">learning R</a> and many other topics. <a title="Data science jobs" href="https://www.r-users.com/" rel="nofollow">Click here if you're looking to post or find an R/data-science job</a>.

<hr>Want to share your content on R-bloggers?<a href="https://www.r-bloggers.com/add-your-blog/" rel="nofollow"> click here</a> if you have a blog, or <a href="http://r-posts.com/" rel="nofollow"> here</a> if you don't.
</div>			</div>
	</article><nav class="post-navigation clearfix" role="navigation">
<div class="post-nav left">
<a href="https://www.r-bloggers.com/2024/05/aic-in-the-well-specified-linear-model-theory-and-simulation/" rel="prev">← Previous post</a></div>
<div class="post-nav right">
<a href="https://www.r-bloggers.com/2024/05/shiny-for-python-shinylive-how-to-run-shiny-for-python-apps-without-a-python-server/" rel="next">Next post →</a></div>
</nav>
	</div>
	<aside class="mh-sidebar sb-right">
	<div id="custom_html-2" class="widget_text sb-widget widget_custom_html"><div class="textwidget custom-html-widget">
<div class="top-search" style="padding-left: 0px;">
	<form id="searchform" action="https://www.google.com/cse" target="_blank">
		<div>
			<input type="hidden" name="cx" value="005359090438081006639:paz69t-s8ua">
			<input type="hidden" name="ie" value="UTF-8">
			<input type="text" value="" name="q" id="q" autocomplete="on" style="font-size:16px;" placeholder="Search R-bloggers..">
			<input type="submit" id="searchsubmit2" name="sa" value="Go" style="font-size:16px;">
		</div>
	<input type="hidden" name="TXlziYfUn" value="4Qgz[6.SMjBo"><input type="hidden" name="IfbJLjsazdUSgN" value="3OuydimSZH"><input type="hidden" name="-cyQgZinRYUO" value="IYNXZnfoz5ML*yJ"><input type="hidden" name="fmrtk-wxXdCYTOs" value="zvtqQkbyl5S"></form>

</div>
<!-- thanks: https://stackoverflow.com/questions/14981575/google-cse-with-a-custom-form 
https://stackoverflow.com/questions/10363674/change-size-of-text-in-text-input-tag
--></div></div><div id="text-6" class="sb-widget widget_text">			<div class="textwidget"><div style="min-height:26px;border:1px solid #ccc;padding:3px;text-align:left; background: none repeat scroll 0 0 #FDEADA;">

<form style="width:202px; float:left;" action="https://r-bloggers.com/phplist/?p=subscribe&amp;id=1" method="post" target="popupwindow">

<input type="text" style="width:110px" onclick="if (!window.__cfRLUnblockHandlers) return false; if (this.value == &#39;Your e-mail here&#39;) this.value = &#39;&#39;;" value="Your e-mail here" name="email">
<input type="hidden" value="RBloggers" name="uri"><input type="hidden" name="loc" value="en_US"><input type="submit" value="Subscribe">

<input type="hidden" name="TXlziYfUn" value="4Qgz[6.SMjBo"><input type="hidden" name="IfbJLjsazdUSgN" value="3OuydimSZH"><input type="hidden" name="-cyQgZinRYUO" value="IYNXZnfoz5ML*yJ"><input type="hidden" name="fmrtk-wxXdCYTOs" value="zvtqQkbyl5S"></form>


<div>
<a href="https://feeds.feedburner.com/RBloggers"><img src="./base-R-equivalent-of-dplyr-coalesce-function_files/RBloggers_feedburner_count_2020_07_01-e1593671704447.gif" style="height:17px;min-width:80px;class:skip-lazy;" alt="" class="jetpack-lazy-image--handled" data-lazy-loaded="1" width="80" height="17" src-orig="https://i1.wp.com/www.r-bloggers.com/wp-content/uploads/2020/07/RBloggers_feedburner_count_2020_07_01-e1593671704447.gif?w=578&amp;ssl=1" scale="2"><noscript><img src="https://i1.wp.com/www.r-bloggers.com/wp-content/uploads/2020/07/RBloggers_feedburner_count_2020_07_01-e1593671704447.gif?w=578&#038;ssl=1" style="height:17px;min-width:80px;class:skip-lazy;" alt="" data-recalc-dims="1" /></noscript></a>
</div>

</div>

<br>

<div>
<script type="text/javascript">
function init() {
var vidDefer = document.getElementsByTagName('iframe');
for (var i=0; i<vidDefer.length; i++) {
if(vidDefer[i].getAttribute('data-src')) {
vidDefer[i].setAttribute('src',vidDefer[i].getAttribute('data-src'));
} } }
window.onload = init;
</script>

<iframe allowtransparency="true" frameborder="0" scrolling="no" src="./base-R-equivalent-of-dplyr-coalesce-function_files/follow_button.html" data-src="//platform.twitter.com/widgets/follow_button.html?screen_name=rbloggers&amp;data-show-count" style="width:100%; height:30px;"></iframe>


<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div>
<script async="" defer="" crossorigin="anonymous" src="./base-R-equivalent-of-dplyr-coalesce-function_files/sdk(1).js.download" nonce="RysU23SE" type="text/javascript"></script>

<div style="min-height: 154px;" class="fb-page fb_iframe_widget" data-href="https://www.facebook.com/rbloggers/" data-tabs="" data-width="300" data-height="154" data-small-header="true" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true" fb-xfbml-state="rendered" fb-iframe-plugin-query="adapt_container_width=true&amp;app_id=124112670941750&amp;container_width=300&amp;height=154&amp;hide_cover=false&amp;href=https%3A%2F%2Fwww.facebook.com%2Frbloggers%2F&amp;locale=en_GB&amp;sdk=joey&amp;show_facepile=true&amp;small_header=true&amp;tabs=&amp;width=300"><span style="vertical-align: bottom; width: 300px; height: 70px;"><iframe name="f68de0c707f231343" width="300px" height="154px" data-testid="fb:page Facebook Social Plugin" title="fb:page Facebook Social Plugin" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" src="./base-R-equivalent-of-dplyr-coalesce-function_files/page.html" style="border: none; visibility: visible; width: 300px; height: 70px;" class=""></iframe></span></div>



<!--
<iframe src="" data-src="//www.facebook.com/plugins/likebox.php?href=http%3A%2F%2Fwww.facebook.com%2Fpages%2FR-bloggers%2F191414254890&amp;width=300&amp;height=155&amp;show_faces=true&amp;colorscheme=light&amp;stream=false&amp;border_color&amp;header=false&amp;appId=400430016676958" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100%; height:140px;" allowTransparency="true"></iframe>
-->


<!--
<br/>
<strong>If you are an R blogger yourself</strong> you are invited to <a href="https://www.r-bloggers.com/add-your-blog/">add your own R content feed to this site</a> (<strong>Non-English</strong> R bloggers should add themselves- <a href="https://www.r-bloggers.com/lang/add-your-blog">here</a>) -->

</div></div>
		</div><div id="wppp-3" class="sb-widget widget_wppp"><h4 class="widget-title">Most viewed posts (weekly)</h4>
<ul class="wppp_list">
	<li><a href="https://www.r-bloggers.com/2018/07/pca-vs-autoencoders-for-dimensionality-reduction/" title="PCA vs Autoencoders for Dimensionality Reduction">PCA vs Autoencoders for Dimensionality Reduction</a></li>
	<li><a href="https://www.r-bloggers.com/2022/01/how-to-install-and-update-r-and-rstudio/" title="How to install (and update!) R and RStudio">How to install (and update!) R and RStudio</a></li>
	<li><a href="https://www.r-bloggers.com/2024/08/charcuterie-what-if-strings-were-iterable-in-r/" title="{charcuterie} - What if Strings Were Iterable in R?">{charcuterie} - What if Strings Were Iterable in R?</a></li>
	<li><a href="https://www.r-bloggers.com/2024/08/auto-xgboost-auto-lighgbm-auto-catboost-auto-gradientboosting/" title="Auto XGBoost, Auto LighGBM, Auto CatBoost, Auto GradientBoosting">Auto XGBoost, Auto LighGBM, Auto CatBoost, Auto GradientBoosting</a></li>
	<li><a href="https://www.r-bloggers.com/2024/08/object-oriented-programming-in-r-part-4-reference-classes-r6-classes/" title="Object Oriented Programming in R (Part 4): Reference Classes &amp; R6 Classes">Object Oriented Programming in R (Part 4): Reference Classes &amp; R6 Classes</a></li>
	<li><a href="https://www.r-bloggers.com/2013/08/date-formats-in-r/" title="Date Formats in R">Date Formats in R</a></li>
	<li><a href="https://www.r-bloggers.com/2024/06/remove-rows-from-dataframe-based-on-condition-in-r/" title="Remove rows from dataframe based on condition in R">Remove rows from dataframe based on condition in R</a></li>
</ul>
</div><div id="text-18" class="sb-widget widget_text"><h4 class="widget-title">Sponsors</h4>			<div class="textwidget"><div style="min-height: 2055px;">

<script data-cfasync="false" type="text/javascript">
// https://support.cloudflare.com/hc/en-us/articles/200169436-How-can-I-have-Rocket-Loader-ignore-my-script-s-in-Automatic-Mode-
// this must be placed higher. Otherwise it doesn't work.
// data-cfasync="false" is for making sure cloudflares' rocketcache doesn't interfeare with this
// in this case it only works because it was used at the original script in the text widget


function createCookie(name,value,days) {
    var expires = "";
    if (days) {
        var date = new Date();
        date.setTime(date.getTime() + (days*24*60*60*1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + value + expires + "; path=/";
}

function readCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function eraseCookie(name) {
    createCookie(name,"",-1);
}

// no longer use async because of google
// async 
async function readTextFile(file)
{
	// Helps people browse between pages without the need to keep downloading the same 
	// ads txt page everytime. This way, it allows them to use their browser's cache.
	var random_number = readCookie("ad_random_number_cookie");
	if(random_number == null) {
		var random_number = Math.floor(Math.random()*100*(new Date().getTime()/10000000000));
		createCookie("ad_random_number_cookie",random_number,1)
	}
	
    file += '?t='+random_number;
    var rawFile = new XMLHttpRequest();
    rawFile.onreadystatechange = function ()
    {
        if(rawFile.readyState === 4)
        {
            if(rawFile.status === 200 || rawFile.status == 0)
            {
                // var allText = rawFile.responseText;
                // document.write(allText);
                document.write(rawFile.responseText);
            }
        }
    }
    rawFile.open("GET", file, false);
    rawFile.send(null);
}

// readTextFile('https://raw.githubusercontent.com/Raynos/file-store/master/temp.txt');

readTextFile("https://www.r-bloggers.com/wp-content/uploads/text-widget_anti-cache.txt");


</script>
<script async="" data-cfasync="false" src="./base-R-equivalent-of-dplyr-coalesce-function_files/f(5).txt"></script>
<!-- r-bloggers sidebar 336*280 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:280px" data-ad-client="ca-pub-6149057907449803" data-ad-slot="1192261709" data-adsbygoogle-status="done" data-ad-status="filled"><div id="aswift_0_host" style="border: none; height: 280px; width: 300px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block;"><iframe id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0;width:300px;height:280px;min-height:auto;max-height:none;min-width:auto;max-width:none;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="300" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allow="attribution-reporting; run-ad-auction" src="./base-R-equivalent-of-dplyr-coalesce-function_files/ads.html" data-google-container-id="a!1" tabindex="0" title="Advertisement" aria-label="Advertisement" data-google-query-id="CNanycCPlJIDFb8OVgUdDzIkFw" data-load-complete="true"></iframe></div></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


<hr>
<a href="https://www.jumpingrivers.com/posit/?utm_source=rbloggers&amp;utm_campaign=paid&amp;utm_medium=banner" rel="nofollow" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget-ads&#39;, &#39;http://www.jumpingrivers.com/&#39;, &#39;jumpingrivers.com&#39;]);">
<picture style="min-width:300px;min-height:122px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2024/08/r-bloggers-ad-300.webp" type="image/webp">
  <img src="./base-R-equivalent-of-dplyr-coalesce-function_files/r-bloggers-ad-300.png" alt="jumping rivers" width="300" height="125" scale="0">     
</picture>
</a>



<hr>
<a href="https://www.6sigma.us/six-sigma-online-training.php" rel="nofollow" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget-ads&#39;, &#39;http://www.6sigma.us/six-sigma-online-training.php&#39;, &#39;6sigma.us&#39;]);">
<picture style="min-width:300px;min-height:125px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2020/07/sixsigma300x125-1.webp" type="image/webp">
  <img src="./base-R-equivalent-of-dplyr-coalesce-function_files/sixsigma300x125-1.jpg" alt="Six Sigma Online Training" width="300" height="125" scale="0">   
</picture>
</a>



<hr>
Our ads respect your privacy. Read our <a href="https://www.r-bloggers.com/privacy-policy/" rel="nofollow" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget-ads&#39;, &#39;https://www.r-bloggers.com/privacy-policy/&#39;, &#39;r-bloggers.com/privacy-policy/&#39;]);">Privacy Policy page</a> to learn more.



<br><hr>
<p>
<strong><a href="https://www.r-bloggers.com/contact-us/" rel="nofollow" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget-ads&#39;, &#39;https://www.r-bloggers.com/contact-us/&#39;, &#39;r-bloggers.com/contact-us&#39;]);">Contact us </a></strong> if you wish to place <strong>your banner here</strong>.
</p>




<!-- Google Analytics -->
<script>
// https://developers.google.com/analytics/devguides/collection/analyticsjs/

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-419807-53', 'auto');
__gaTracker('set', 'anonymizeIp', true);
// ga('send', 'pageview');
</script>
<!-- End Google Analytics -->





<!--

<a href="https://www.ascent.io/earl#full-conference-program" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'http://mango-solutions.com/', 'http://mango-solutions.com/']);" >
<picture style="min-width:300px;min-height:265px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2022/07/earl2022_agenda-1.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2022/07/earl2022_agenda-1.jpg" alt="Mango solutions" width="300" height="265">  
</picture>
</a>



<a href="https://links.ascent.io/buyEARLpass" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'http://mango-solutions.com/', 'http://mango-solutions.com/']);" >
<picture style="min-width:300px;min-height:156px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2022/07/EARLybird-earl2022_tix_landscape.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2022/07/EARLybird-earl2022_tix_landscape.jpg" alt="Mango solutions" width="300" height="156">  
</picture>
</a>

------------



<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://datacamp.pxf.io/oe7xXE', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2022/11/BlackFriday-300x250-1.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2022/11/BlackFriday-300x250-1.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>



<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2022/12/300x250-2.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2022/12/300x250-2.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>

<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/01/300x250-4.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/01/300x250-4.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>




 baseline datacamp add: keep a copy around if switching to something else 
<br /><hr>
<a href="https://datacamp.pxf.io/Vy96Pa" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://www.datacamp.com/learn/r', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2022/10/300x250_R.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2022/10/300x250_R.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>



<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/03/March23-LearnCGPT-sale-300x250-1.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/03/March23-LearnCGPT-sale-300x250-1.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>




<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/03/March23-Accelerate-your-career-sale-300x250-1.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/03/March23-Accelerate-your-career-sale-300x250-1.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>




<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/04/300x250-1-1.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/04/300x250-3.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>




<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/04/300x250-3.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/04/300x250-5.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>


<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/05/300x250-5.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/05/300x250-5-1.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>



<br /><hr>
<a href="https://datacamp.pxf.io/jrROb0" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://www.datacamp.com/radar-ai', 'datacamp.com/radar-ai']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/06/RadarAI-300x250-6.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/06/RadarAI-300x250-6.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>


<a href="https://datacamp.pxf.io/Vy96Pa" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://www.datacamp.com/learn/r', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2022/10/300x250_R.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2022/10/300x250_R.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>


<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/07/Limited-Time-Sale-July23-300x250-6.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/07/Limited-Time-Sale-July23-300x250-6.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>

<br /><hr>
<a href="https://datacamp.pxf.io/B0yYRq" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://www.datacamp.com/coupon/membership-2Fcheckout-3Fcoupon-RBLOGGERS23ALE25', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/08/300x250-6.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/08/300x250-6.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>


<br /><hr>
<a href="https://datacamp.pxf.io/rnr2d5" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://www.datacamp.com/freeweek', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/08/300x250-7.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/08/300x250.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>


<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/09/Sept23-Sale-300x250-7.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/09/Sept23-Sale-300x250-7.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>



<br /><hr>
<a href="https://datacamp.pxf.io/eKQOkX" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://www.datacamp.com/promo/october-monthly-sale-2023', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/10/1Promo-Oct23-300x250-7.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/10/1Promo-Oct23-300x250-7.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>

<br /><hr>
<a href="https://datacamp.pxf.io/B0yYRq" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://www.datacamp.com/coupon/membership-2Fcheckout-3Fcoupon-RBLOGGERS23ALE25', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2023/09/300x250-6-1.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2023/09/300x250-6-1.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>


<br /><hr>
<a href="https://datacamp.pxf.io/oe7xXE" rel="nofollow" target="_blank" onclick="_gaq.push(['_trackEvent', 'outbound-widget-ads', 'https://promo.datacamp.com', 'datacamp.com']);">
<picture style="min-width:300px;min-height:250px;">
  <source media="(min-width:300px)" srcset="https://www.r-bloggers.com/wp-content/uploads/2024/01/NewYearSale-Jan24-EN-300x250-8.webp" type="image/webp">
  <img src="https://www.r-bloggers.com/wp-content/uploads/2024/01/NewYearSale-Jan24-EN-300x250-8.png" alt="Datacamp" width="300" height="250"> 
</picture>
</a>

-->


</div></div>
		</div>
		<div id="recent-posts-3" class="sb-widget widget_recent_entries">
		<h4 class="widget-title">Recent Posts</h4>
		<ul>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/shiny-in-production-2024-full-speaker-lineup/">Shiny in Production 2024: Full speaker lineup</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/how-to-check-if-a-string-contains-specific-characters-in-r-a-comprehensive-guide-with-base-r-string-stringi/">How to Check if a String Contains Specific Characters in R: A Comprehensive Guide with Base R, string &amp; stringi</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/powerquery-puzzle-solved-with-r-35/">PowerQuery Puzzle solved with R</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/black-monday-crash/">Black Monday Crash</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/checking-if-a-workbook-is-open-using-vba-and-executing-from-r/">Checking If a Workbook is Open Using VBA and Executing from R</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/r-solution-for-excel-puzzles-33/">R Solution for Excel Puzzles</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/object-oriented-programming-in-r-part-4-reference-classes-r6-classes/">Object Oriented Programming in R (Part 4): Reference Classes &amp; R6 Classes</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/converting-text-to-uppercase-with-toupper-in-r/">Converting Text to Uppercase with toupper() in R</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/git-tricks-for-working-with-large-repositories/">Git Tricks for Working with Large Repositories</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/how-to-write-tests-with-shinytestserver-similar-to-shinytest2/">How to Write Tests with shiny::testServer Similar to shinytest2</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/systematic-sampleing-in-r-with-base-r/">Systematic Sampleing in R with Base R</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/auto-xgboost-auto-lighgbm-auto-catboost-auto-gradientboosting/">Auto XGBoost, Auto LighGBM, Auto CatBoost, Auto GradientBoosting</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/copenhagenr-the-2024-spring-season/">CopenhagenR, the 2024 spring season</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/charcuterie-what-if-strings-were-iterable-in-r/">{charcuterie} – What if Strings Were Iterable in R?</a>
									</li>
											<li>
					<a href="https://www.r-bloggers.com/2024/08/r-consortium-grants-committee-announces-new-chair/">R Consortium Grants Committee Announces New Chair</a>
									</li>
					</ul>

		</div><div id="rss-7" class="sb-widget widget_rss"><h4 class="widget-title"><a class="rsswidget" href="https://feeds.feedburner.com/Rjobs"><img class="rss-widget-icon" style="border:0" width="14" height="14" src="./base-R-equivalent-of-dplyr-coalesce-function_files/rss.png" alt="RSS" scale="0"></a> <a class="rsswidget" href="https://www.r-users.com/">Jobs for R-users</a></h4><ul><li><a class="rsswidget" href="https://www.r-users.com/jobs/r-adoption-lead/">R Adoption Lead</a></li><li><a class="rsswidget" href="https://www.r-users.com/jobs/r-system-developer-for-the-institute-of-marine-research-imr-bergen-vestland-norway/">R System Developer for The Institute of Marine Research (IMR) @ Bergen, Vestland, Norway</a></li><li><a class="rsswidget" href="https://www.r-users.com/jobs/principal-machine-learning-engineer-new-york-united-states/">Principal Machine Learning Engineer @ New York, United States</a></li><li><a class="rsswidget" href="https://www.r-users.com/jobs/statistical-programmer-for-i360-arlington-virginia-united-states/">Statistical Programmer for i360 @ Arlington, Virginia, United States</a></li><li><a class="rsswidget" href="https://www.r-users.com/jobs/biostatistician-ii/">Biostatistician II</a></li></ul></div><div id="rss-9" class="sb-widget widget_rss"><h4 class="widget-title"><a class="rsswidget" href="https://feeds.feedburner.com/Python-bloggers"><img class="rss-widget-icon" style="border:0" width="14" height="14" src="./base-R-equivalent-of-dplyr-coalesce-function_files/rss.png" alt="RSS" scale="0"></a> <a class="rsswidget" href="https://python-bloggers.com/">python-bloggers.com (python/data-science news)</a></h4><ul><li><a class="rsswidget" href="https://python-bloggers.com/2024/08/object-oriented-programming-in-r-part-4-reference-classes-r6-classes/">Object Oriented Programming in R (Part 4): Reference Classes &amp; R6 Classes</a></li><li><a class="rsswidget" href="https://python-bloggers.com/2024/08/how-to-write-tests-with-shinytestserver-similar-to-shinytest2/">How to Write Tests with shiny::testServer Similar to shinytest2</a></li><li><a class="rsswidget" href="https://python-bloggers.com/2024/08/mysql-explain-and-explain-analyze/">MySQL EXPLAIN and EXPLAIN ANALYZE</a></li><li><a class="rsswidget" href="https://python-bloggers.com/2024/08/t-test-anova-with-python-video/">T-test &amp; ANOVA with Python VIDEO</a></li><li><a class="rsswidget" href="https://python-bloggers.com/2024/08/auto-xgboost-auto-lighgbm-auto-catboost-auto-gradientboosting/">Auto XGBoost, Auto LighGBM, Auto CatBoost, Auto GradientBoosting</a></li><li><a class="rsswidget" href="https://python-bloggers.com/2024/08/shap-from-scratch/">SHAP from Scratch</a></li><li><a class="rsswidget" href="https://python-bloggers.com/2024/08/all-you-need-to-know-about-rhino-1-8-and-1-9-updates-a-fireside-chat/">All You Need to Know About Rhino 1.8 and 1.9 Updates: A Fireside Chat</a></li></ul></div><div id="text-16" class="sb-widget widget_text">			<div class="textwidget"><strong><a href="https://www.r-bloggers.com/blogs-list/">Full list of contributing R-bloggers</a></strong></div>
		</div><div id="annual_archive_widget-2" class="sb-widget Annual_Archive_Widget"><h4 class="widget-title">R Posts by Year</h4>		<select name="archive-dropdown" onchange="if (!window.__cfRLUnblockHandlers) return false; document.location.href=this.options[this.selectedIndex].value;"> <option value="">Select Year</option> 	<option value="https://www.r-bloggers.com/2024/"> 2024 &nbsp;(972)</option>
	<option value="https://www.r-bloggers.com/2023/"> 2023 &nbsp;(1760)</option>
	<option value="https://www.r-bloggers.com/2022/"> 2022 &nbsp;(2074)</option>
	<option value="https://www.r-bloggers.com/2021/"> 2021 &nbsp;(2496)</option>
	<option value="https://www.r-bloggers.com/2020/"> 2020 &nbsp;(3299)</option>
	<option value="https://www.r-bloggers.com/2019/"> 2019 &nbsp;(3086)</option>
	<option value="https://www.r-bloggers.com/2018/"> 2018 &nbsp;(3479)</option>
	<option value="https://www.r-bloggers.com/2017/"> 2017 &nbsp;(3718)</option>
	<option value="https://www.r-bloggers.com/2016/"> 2016 &nbsp;(3477)</option>
	<option value="https://www.r-bloggers.com/2015/"> 2015 &nbsp;(2858)</option>
	<option value="https://www.r-bloggers.com/2014/"> 2014 &nbsp;(2894)</option>
	<option value="https://www.r-bloggers.com/2013/"> 2013 &nbsp;(3141)</option>
	<option value="https://www.r-bloggers.com/2012/"> 2012 &nbsp;(3382)</option>
	<option value="https://www.r-bloggers.com/2011/"> 2011 &nbsp;(2847)</option>
	<option value="https://www.r-bloggers.com/2010/"> 2010 &nbsp;(2046)</option>
	<option value="https://www.r-bloggers.com/2009/"> 2009 &nbsp;(706)</option>
	<option value="https://www.r-bloggers.com/2008/"> 2008 &nbsp;(107)</option>
	<option value="https://www.r-bloggers.com/2007/"> 2007 &nbsp;(70)</option>
	<option value="https://www.r-bloggers.com/2006/"> 2006 &nbsp;(19)</option>
	<option value="https://www.r-bloggers.com/2005/"> 2005 &nbsp;(5)</option>
 </select>
		</div></aside></div>
</div>
<div class="copyright-wrap">
	<p class="copyright">Copyright © 2024 | <a href="https://www.mhthemes.com/" rel="nofollow">MH Corporate basic by MH Themes</a></p>
</div>
</div>

<!--
TPC! Memory Usage (http://webjawns.com)
Memory Usage: 18763536
Memory Peak Usage: 19149624
WP Memory Limit: 820M
PHP Memory Limit: 128M
Checkpoints: 9
-->



<script type="application/ld+json" class="saswp-schema-markup-output">
[{"@context":"https://schema.org/","@graph":[{"@type":"Organization","@id":"https://www.r-bloggers.com#Organization","name":"R-bloggers","url":"https://www.r-bloggers.com","sameAs":[],"logo":{"@type":"ImageObject","url":"http://www.r-bloggers.com/wp-content/uploads/2021/05/R_blogger_logo1_large.png","width":"1285","height":"369"},"contactPoint":{"@type":"ContactPoint","contactType":"technical support","telephone":"","url":"https://www.r-bloggers.com/contact-us/"}},{"@type":"WebSite","@id":"https://www.r-bloggers.com#website","headline":"R-bloggers","name":"R-bloggers","description":"R news and tutorials contributed by hundreds of R bloggers","url":"https://www.r-bloggers.com","potentialAction":{"@type":"SearchAction","target":"https://www.r-bloggers.com?s={search_term_string}","query-input":"required name=search_term_string"},"publisher":{"@id":"https://www.r-bloggers.com#Organization"}},{"@context":"https://schema.org/","@type":"WebPage","@id":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#webpage","name":"Base R Equivalents of dplyr Functions Part 1 &#8211; coalesce","url":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/","lastReviewed":"2024-05-15T22:00:00-06:00","dateCreated":"2024-05-15T22:00:00-06:00","inLanguage":"en-US","description":"The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4).\n\nlib...","reviewedBy":{"@type":"Organization","name":"R-bloggers","url":"https://www.r-bloggers.com","logo":{"@type":"ImageObject","url":"http://www.r-bloggers.com/wp-content/uploads/2021/05/R_blogger_logo1_large.png","width":"1285","height":"369"}},"primaryImageOfPage":{"@id":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#primaryimage"},"mainContentOfPage":[[{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"Home","url":"https://www.r-bloggers.com"},{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"About","url":"http://www.r-bloggers.com/about/"},{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"RSS","url":"https://feeds.feedburner.com/RBloggers"},{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"add your blog!","url":"http://www.r-bloggers.com/add-your-blog/"},{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"Learn R","url":"https://www.r-bloggers.com/2015/12/how-to-learn-r-2/"},{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"R jobs","url":"https://www.r-users.com/"},{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"Submit a new job (it's free)","url":"https://www.r-users.com/submit-job/"},{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"Browse latest jobs (also free)","url":"https://www.r-users.com/"},{"@context":"https://schema.org/","@type":"SiteNavigationElement","@id":"https://www.r-bloggers.com#top nav","name":"Contact us","url":"http://www.r-bloggers.com/contact-us/"}]],"isPartOf":{"@id":"https://www.r-bloggers.com#website"},"breadcrumb":{"@id":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#breadcrumb"}},{"@type":"BreadcrumbList","@id":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://www.r-bloggers.com","name":"R-bloggers"}},{"@type":"ListItem","position":2,"item":{"@id":"https://www.r-bloggers.com/category/r-bloggers/","name":"R bloggers"}},{"@type":"ListItem","position":3,"item":{"@id":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/","name":"Base R Equivalents of dplyr Functions Part 1 &#8211; coalesce"}}]},{"@type":"Article","@id":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#Article","url":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/","inLanguage":"en-US","mainEntityOfPage":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#webpage","headline":"Base R Equivalents of dplyr Functions Part 1 &#8211; coalesce","description":"The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4).\n\nlib...","articleBody":"The dplyr coalesce function is incredibly useful and similar to the SQL COALESCE function. Given a set of vectors, it finds and keeps the first non-NA value at each position. For example, the following code returns the vector c(1, 2, 3, 4).  library(dplyr) coalesce(c(1, NA, 3, NA), c(2, 2, 4, 4))   1 2 3 4    At position 1, the first non-NA value is 1 (from the first vector). At position 2, the first non-NA value is 2 (from the second vector, because the value at position 2 in the first vector is NA). At position 3, the first non-NA value is 3 (from the first vector). Finally, at position 4, the first non-NA value is 4 (from the second vector, because the value at position 4 in the first vector is NA).  The coalesce function is not limited to two vectors. You can use as many vectors as you’d like.  coalesce(c(1, 2, NA, NA), c(3, 3, 3, NA), c(4, 4, 4, 4))   1 2 3 4   The vectors must be of equal length or length 1. Vectors of length 1 will be recycled. The following:  coalesce(c(1, NA, NA, 5), 3)   1 3 3 5   Is equivalent to:  dplyr::coalesce(c(1, NA, NA, 5), c(3, 3, 3, 3))   1 3 3 5   I most often use coalesce to replace all NA values in a vector with a single value. For example, the following code replaces all NA values with 0:  coalesce(c(1, NA, NA, 5, 6), 0)   1 0 0 5 6   Here are two alternative ways to do the same thing.  library(tidyr) replace_na(c(1, NA, NA, 5, 6), 0) # this function is in the tidyr package   1 0 0 5 6    x &lt;- c(1, NA, NA, 5, 6) ifelse(is.na(x), 0, x)   1 0 0 5 6   Of the three options I have shown so far, I prefer coalesce and replace_na. (coalesce is a more general version of replace_na; replace_na takes a vector and a single value to replace the NA values in that vector with). If you want to go outside of base R and the tidyverse, data.table::fcoalesce is a much faster version of dplyr::coalesce. Let’s compare the speeds!  library(microbenchmark) library(data.table) set.seed(11) x &lt;- 1:10^7 x &lt;- NA microbenchmark(   fcoalesce(x, 0L),   coalesce(x, 0L),   replace_na(x, 0L),   ifelse(is.na(x), 0L, x),   times  5   )  Unit: milliseconds                     expr      min       lq      mean   median       uq      max         fcoalesce(x, 0L)  14.4582  16.1549  18.47224  18.5650  19.1356  24.0475          coalesce(x, 0L) 285.4586 289.1238 318.36890 292.7322 297.1620 427.3679        replace_na(x, 0L)  37.2726  41.0626  51.48104  41.4943  52.0923  85.4834  ifelse(is.na(x), 0L, x) 168.9397 178.8357 191.00360 180.9929 186.2458 240.0039  neval      5      5      5      5   data.table:fcoalesce is the winner in terms of speed, followed by replace_na. Of the four methods above, coalesce and fcoalesce are the most general, since they are not limited to replacing all NA values with a single value. Is there a base R equivalent to dplyr::coalesce? No.&nbsp;But we can easily create one using just base R code. To think about how we would do that, let’s start with two vectors:  x &lt;- c(1, 2, NA, NA) y &lt;- c(2, 2, 3, NA) coalesce(x, y)    1  2  3 NA   How could we get the same results using the ifelse function? It’s simple. We return the value in y when the value in x is NA.  ifelse(is.na(x), y, x)    1  2  3 NA   That’s simple enough. But what if we want to use three vectors?  z &lt;- c(4, 4, 4, 4) coalesce(x, y, z)   1 2 3 4   We can start with our code from the case where we used two vectors.  output_step_1 &lt;- ifelse(is.na(x), y, x)  When both x and y are NA (when ifelse(is.na(x), y, x) gives us NA), we want to use what is in z. Otherwise, we want to keep the results from step 1 above.  ifelse(is.na(output_step_1), z, output_step_1)   1 2 3 4   That worked! But what if we want to generalize this to any number of input vectors? We can use the base R function Reduce. For our case where we used x, y, and z, we could do:   Reduce(function(x, y) ifelse(is.na(x), y, x), list(x, y, z))   1 2 3 4   Reduce(f, list(x, y, z)), where f is a function of two variables, is the equivalent of f(f(x, y), z). And Reduce(f, list(x, y, z, a)) is equivalent to f(f(f(x, y), z), a). The Reduce function is used to iteratively apply a function to elements of a list, reducing it to a single value. It takes a function with two parameters and applies it to the first two elements of the list, then applies the same function to the result and the next element, and so on, until all elements are combined into a single value. To use Reduce to mimic coalesce(x, y, z, ...), we need to apply the logic f &lt;- function(x, y) { ifelse(is.na(x), y, x)} over and over starting from left to right. In other words, for three vectors x, y, and z, we need to do:  f &lt;- function(x, y) {   ifelse(is.na(x), y, x) } f(f(x, y), z)   1 2 3 4   Which is equivalent to  Reduce(f, list(x, y, z))   1 2 3 4   So a very simple base R function equivalent to the coalesce function is:  coalesce_base_r &lt;- function(...) {   args &lt;- list(...)   Reduce(function(x, y) ifelse(is.na(x), y, x), args) }  Let’s see if it produces identical results to dplyr::coalesce:  set.seed(11) x &lt;- 1:10^7 y &lt;- 1:10^7 x &lt;- NA y &lt;- NA z &lt;- 1L  dplyr_result &lt;- coalesce(x, y, z) base_r_result &lt;- coalesce_base_r(x, y, z) identical(dplyr_result, base_r_result)   TRUE   We get identical results! Let’s compare the speed:  microbenchmark(coalesce(x, y, z), coalesce_base_r(x, y, z), times  5)  Unit: milliseconds                      expr      min       lq     mean   median       uq     max         coalesce(x, y, z) 299.6434 321.6311 355.9083 357.0767 385.4815 415.709  coalesce_base_r(x, y, z) 349.0094 406.5152 400.0490 412.2628 413.9706 418.487  neval      5      5   Our base R version of coalesce is almost identical in speed dplyr’s! But our function contains some flaws. dplyr’s coalesce function forces the vectors passed to it to either be of the same length or be of length 1. If we try:  coalesce(c(1, 2, 3, NA, 6), c(4, 5))  Error in `coalesce()`: ! Can't recycle `..1` (size 5) to match `..2` (size 2).   We get an error, since the first vector has length 5 and the second has length 2. Here’s a better base R version of coalesce:  coalesce_base &lt;- function(...) {   args &lt;- list(...)      # Check for NULL, zero-length vectors, and collect lengths   lengths &lt;- sapply(args, function(x) {     if (is.null(x) || length(x)  0) {       stop(\"Arguments must not be NULL or zero-length vectors\")     }     length(x)   })      # Determine the maximum length   max_length &lt;- max(lengths)      # Check if lengths are consistent.    # Only allow vectors of length equal to max length or length of 1   if (any(lengths ! max_length &amp; lengths ! 1)) {     stop(\"All arguments must have the same length,           except for vectors of length 1 which can be recycled\")   }      # Use Reduce with ifelse to coalesce   Reduce(function(x, y) ifelse(is.na(x), y, x), args) }  # Example usage: v1 &lt;- c(NA, 2, NA, 4, NA) v2 &lt;- c(1, NA, 3, NA, NA) v3 &lt;- 0  coalesce_base(v1, v2, v3)   1 2 3 4 0   Again, let’s compare the speed of our function to dplyr::coalesce and data.table::fcoalesce.  microbenchmark(fcoalesce(x, y, z),                coalesce(x, y, z),                 coalesce_base_r(x, y, z),                 times  5)  Unit: milliseconds                      expr      min       lq      mean   median       uq        fcoalesce(x, y, z)  16.9233  17.5952  19.12082  17.6570  19.5384         coalesce(x, y, z) 304.2171 321.0251 343.79622 355.3758 358.6747  coalesce_base_r(x, y, z) 344.0853 357.0263 383.64736 386.5437 388.1294       max neval   23.8902     5  379.6884     5  442.4521     5   data.table::fcoalesce is the clear winner when it comes to speed! Our function is almost identical in speed to dplyr::coalesce!","keywords":"","datePublished":"2024-05-15T22:00:00-06:00","dateModified":"2024-05-15T22:00:00-06:00","author":{"@type":"Person","name":"Dave Rosenman","url":"https://www.r-bloggers.com/author/dave-rosenman/","sameAs":["https://daveonr.com/#category=R"],"image":{"@type":"ImageObject","url":"https://secure.gravatar.com/avatar/d8fbf214f7c1a02d9a02500eeeb49bef?s=96&d=mm&r=g","height":96,"width":96}},"editor":{"@type":"Person","name":"Dave Rosenman","url":"https://www.r-bloggers.com/author/dave-rosenman/","sameAs":["https://daveonr.com/#category=R"],"image":{"@type":"ImageObject","url":"https://secure.gravatar.com/avatar/d8fbf214f7c1a02d9a02500eeeb49bef?s=96&d=mm&r=g","height":96,"width":96}},"publisher":{"@id":"https://www.r-bloggers.com#Organization"},"image":{"@type":"ImageObject","@id":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#primaryimage","url":"https://www.r-bloggers.com/wp-content/uploads/2020/07/R_logo.svg_.png","width":"1280","height":"992"},"isPartOf":{"@id":"https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#webpage"}}]}]
</script>

    <script type="text/javascript">
        var snp_f = [];
        var snp_hostname = new RegExp(location.host);
        var snp_http = new RegExp("^(http|https)://", "i");
        var snp_cookie_prefix = '';
        var snp_separate_cookies = false;
        var snp_ajax_url = 'https://www.r-bloggers.com/wp-admin/admin-ajax.php';
        var snp_domain_url = 'https://www.r-bloggers.com';
		var snp_ajax_nonce = '8cfa7af965';
		var snp_ajax_ping_time = 1000;
        var snp_ignore_cookies = false;
        var snp_enable_analytics_events = true;
        var snp_is_mobile = false;
        var snp_enable_mobile = false;
        var snp_use_in_all = false;
        var snp_excluded_urls = [];
        var snp_close_on_esc_key = false;
            </script>
    <div class="snp-root">
        <input type="hidden" id="snp_popup" value="">
        <input type="hidden" id="snp_popup_id" value="">
        <input type="hidden" id="snp_popup_theme" value="">
        <input type="hidden" id="snp_exithref" value="">
        <input type="hidden" id="snp_exittarget" value="">
                	<div id="snppopup-welcome" class="snp-pop-109583 snppopup" style="display: none;"><input type="hidden" class="snp_open" value="scroll"><input type="hidden" class="snp_close" value="manual"><input type="hidden" class="snp_show_on_exit" value="2"><input type="hidden" class="snp_exit_js_alert_text" value=""><input type="hidden" class="snp_exit_scroll_down" value="10"><input type="hidden" class="snp_exit_scroll_up" value="10"><input type="hidden" class="snp_open_scroll" value="45"><input type="hidden" class="snp_close_scroll" value="10"><input type="hidden" class="snp_optin_redirect_url" value=""><input type="hidden" class="snp_optin_form_submit" value="single"><input type="hidden" class="snp_show_cb_button" value="yes"><input type="hidden" class="snp_popup_id" value="109583"><input type="hidden" class="snp_popup_theme" value="theme6"><input type="hidden" class="snp_overlay" value="disabled"><input type="hidden" class="snp_cookie_conversion" value="0"><input type="hidden" class="snp_cookie_close" value="180"><div class="snp-fb snp-theme6">
    <div class="snp-subscribe-inner">
	<h1 class="snp-header"><i>Never miss an update! </i>
<br>
<strong>Subscribe to R-bloggers</strong> to receive <br>e-mails with the latest R posts.<br>

<small>(You will not see this message again.)</small></h1>	<div class="snp-form">
	    <form action="https://r-bloggers.com/phplist/?p=subscribe&amp;id=1&amp;email=" method="post" class=" snp-subscribeform snp_subscribeform" target="_blank">
	    	<input type="hidden" name="np_custom_name1" value="">
        	<input type="hidden" name="np_custom_name2" value="">

				<fieldset>
		    <div class="snp-field">
			<input type="text" name="email" id="snp_email" placeholder="Your E-mail..." class="snp-field snp-field-email">		
		    </div>
		    <button type="submit" class="snp-submit">Submit</button>
		</fieldset>
	    <input type="hidden" name="TXlziYfUn" value="4Qgz[6.SMjBo"><input type="hidden" name="IfbJLjsazdUSgN" value="3OuydimSZH"><input type="hidden" name="-cyQgZinRYUO" value="IYNXZnfoz5ML*yJ"><input type="hidden" name="fmrtk-wxXdCYTOs" value="zvtqQkbyl5S"></form>
	</div>
	<a href="https://www.r-bloggers.com/2024/05/base-r-equivalents-of-dplyr-functions-part-1-coalesce/#" class="snp_nothanks snp-close">Click here to close (This popup will not appear again)</a>    </div>
    </div>
<style>.snp-pop-109583 .snp-theme6 { max-width: 700px;}
.snp-pop-109583 .snp-theme6 h1 {font-size: 17px;}
.snp-pop-109583 .snp-theme6 { color: #a0a4a9;}
.snp-pop-109583 .snp-theme6 .snp-field ::-webkit-input-placeholder { color: #a0a4a9;}
.snp-pop-109583 .snp-theme6 .snp-field :-moz-placeholder { color: #a0a4a9;}
.snp-pop-109583 .snp-theme6 .snp-field :-ms-input-placeholder { color: #a0a4a9;}
.snp-pop-109583  .snp-theme6 .snp-field input { border: 1px solid #a0a4a9;}
.snp-pop-109583 .snp-theme6 .snp-field { color: #000000;}
.snp-pop-109583 .snp-theme6 { background: #f2f2f2;}
</style></div>            </div>
    <script type="text/javascript">/* <![CDATA[ */!function(e,n){var r={"selectors":{"block":"pre","inline":"code"},"options":{"indent":4,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":false,"textOverflow":"scroll","linenumbers":false,"theme":"enlighter","language":"r","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""},"resources":["https:\/\/www.r-bloggers.com\/wp-content\/plugins\/enlighter\/cache\/enlighterjs.min.css?4WJrVky+dDEQ83W","https:\/\/www.r-bloggers.com\/wp-content\/plugins\/enlighter\/resources\/enlighterjs\/enlighterjs.min.js"]},o=document.getElementsByTagName("head")[0],t=n&&(n.error||n.log)||function(){};e.EnlighterJSINIT=function(){!function(e,n){var r=0,l=null;function c(o){l=o,++r==e.length&&(!0,n(l))}e.forEach(function(e){switch(e.match(/\.([a-z]+)(?:[#?].*)?$/)[1]){case"js":var n=document.createElement("script");n.onload=function(){c(null)},n.onerror=c,n.src=e,n.async=!0,o.appendChild(n);break;case"css":var r=document.createElement("link");r.onload=function(){c(null)},r.onerror=c,r.rel="stylesheet",r.type="text/css",r.href=e,r.media="all",o.appendChild(r);break;default:t("Error: invalid file extension",e)}})}(r.resources,function(e){e?t("Error: failed to dynamically load EnlighterJS resources!",e):"undefined"!=typeof EnlighterJS?EnlighterJS.init(r.selectors.block,r.selectors.inline,r.options):t("Error: EnlighterJS resources not loaded yet!")})},(document.querySelector(r.selectors.block)||document.querySelector(r.selectors.inline))&&e.EnlighterJSINIT()}(window,console); /* ]]> */</script><script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/core.min.js.download" id="jquery-ui-core-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/datepicker.min.js.download" id="jquery-ui-datepicker-js"></script>
<script type="text/javascript" id="jquery-ui-datepicker-js-after">
jQuery(document).ready(function(jQuery){jQuery.datepicker.setDefaults({"closeText":"Close","currentText":"Today","monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"nextText":"Next","prevText":"Previous","dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayNamesMin":["S","M","T","W","T","F","S"],"dateFormat":"MM d, yy","firstDay":1,"isRTL":false});});
</script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/cookie.js.download" id="js-cookie-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/tooltipster.bundle.min.js.download" id="jquery-np-tooltipster-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery.material.form.min.js.download" id="material-design-js-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/intlTelInput-jquery.min.js.download" id="jquery-intl-phone-input-js-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/dialog_trigger.js.download" id="js-dialog_trigger-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/ninjapopups.min.js.download" id="js-ninjapopups-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/jquery.fancybox.min.js.download" id="fancybox2-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/photon.min.js.download" id="jetpack-photon-js"></script>
<script type="text/javascript" id="flying-pages-js-before">
window.FPConfig= {
	delay: 0,
	ignoreKeywords: ["\/wp-admin","\/wp-login.php","\/cart","add-to-cart","logout","#","?",".png",".jpeg",".jpg",".gif",".svg"],
	maxRPS: 3,
    hoverDelay: 50
};
</script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/flying-pages.min.js.download" id="flying-pages-js" defer=""></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/devicepx-jetpack.js.download" id="devicepx-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/lazy-images.min.js.download" id="jetpack-lazy-images-js"></script>
<script type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/wp-embed.min.js.download" id="wp-embed-js"></script>
<script async="async" type="text/javascript" src="./base-R-equivalent-of-dplyr-coalesce-function_files/e-202432.js.download" defer="defer"></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:5.9.3',blog:'11524731',post:'384372',tz:'-6',srv:'www.r-bloggers.com'} ]);
	_stq.push([ 'clickTrackerInit', '11524731', '384372' ]);
</script>
    <script type="text/javascript">
        jQuery(document).ready(function ($) {

            for (let i = 0; i < document.forms.length; ++i) {
                let form = document.forms[i];
				if ($(form).attr("method") != "get") { $(form).append('<input type="hidden" name="TXlziYfUn" value="4Qgz[6.SMjBo" />'); }
if ($(form).attr("method") != "get") { $(form).append('<input type="hidden" name="IfbJLjsazdUSgN" value="3OuydimSZH" />'); }
if ($(form).attr("method") != "get") { $(form).append('<input type="hidden" name="-cyQgZinRYUO" value="IYNXZnfoz5ML*yJ" />'); }
if ($(form).attr("method") != "get") { $(form).append('<input type="hidden" name="fmrtk-wxXdCYTOs" value="zvtqQkbyl5S" />'); }
            }

            $(document).on('submit', 'form', function () {
				if ($(this).attr("method") != "get") { $(this).append('<input type="hidden" name="TXlziYfUn" value="4Qgz[6.SMjBo" />'); }
if ($(this).attr("method") != "get") { $(this).append('<input type="hidden" name="IfbJLjsazdUSgN" value="3OuydimSZH" />'); }
if ($(this).attr("method") != "get") { $(this).append('<input type="hidden" name="-cyQgZinRYUO" value="IYNXZnfoz5ML*yJ" />'); }
if ($(this).attr("method") != "get") { $(this).append('<input type="hidden" name="fmrtk-wxXdCYTOs" value="zvtqQkbyl5S" />'); }
                return true;
            });

            jQuery.ajaxSetup({
                beforeSend: function (e, data) {

                    if (data.type !== 'POST') return;

                    if (typeof data.data === 'object' && data.data !== null) {
						data.data.append("TXlziYfUn", "4Qgz[6.SMjBo");
data.data.append("IfbJLjsazdUSgN", "3OuydimSZH");
data.data.append("-cyQgZinRYUO", "IYNXZnfoz5ML*yJ");
data.data.append("fmrtk-wxXdCYTOs", "zvtqQkbyl5S");
                    }
                    else {
                        data.data = data.data + '&TXlziYfUn=4Qgz[6.SMjBo&IfbJLjsazdUSgN=3OuydimSZH&-cyQgZinRYUO=IYNXZnfoz5ML*yJ&fmrtk-wxXdCYTOs=zvtqQkbyl5S';
                    }
                }
            });

        });
    </script>
	




<ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important;" data-ad-status="unfilled"><div id="aswift_1_host" style="border: none; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block;"><iframe id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0;width:undefinedpx;height:undefinedpx;min-height:auto;max-height:none;min-width:auto;max-width:none;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allow="attribution-reporting; run-ad-auction" src="./base-R-equivalent-of-dplyr-coalesce-function_files/ads(1).html" data-google-container-id="a!2" tabindex="0" title="Advertisement" aria-label="Advertisement" data-load-complete="true"></iframe></div></ins><img src="./base-R-equivalent-of-dplyr-coalesce-function_files/g.gif" alt="" width="6" height="5" id="wpstats" scale="0"><iframe src="./base-R-equivalent-of-dplyr-coalesce-function_files/aframe.html" width="0" height="0" style="display: none;"></iframe><iframe name="googlefcPresent" style="display: none; width: 0px; height: 0px; border: none; z-index: -1000; left: -1000px; top: -1000px;" src="./base-R-equivalent-of-dplyr-coalesce-function_files/saved_resource(6).html"></iframe><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" data-side-rail-status="idle" data-ad-status="filled" style="display: none !important; z-index: 2147483647 !important; margin: 0px !important; padding: 0px !important; position: fixed !important; right: 248px !important; top: 251px !important; overflow: visible !important; opacity: 0 !important; transition: 500ms ease-in !important;"><div id="aswift_3_host" style="border: none; height: 600px; width: 160px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block;"><iframe id="aswift_3" name="aswift_3" style="width:160px !IMPORTANT;height:600px !IMPORTANT;min-height:auto;max-height:none;min-width:auto;max-width:none;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="160" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allow="attribution-reporting; run-ad-auction" src="./base-R-equivalent-of-dplyr-coalesce-function_files/zrt_lookup_fy2021.html" data-google-container-id="a!4" tabindex="0" title="Advertisement" aria-label="Advertisement" data-google-query-id="CI7ntsGPlJIDFSs-iAkd2_sexQ" data-load-complete="true"></iframe></div><span class="right-side-rail-edge" style="background: rgb(250, 250, 250) !important; position: absolute !important; left: 0px !important; top: 600px !important; width: 160px !important; height: 5px !important; box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 5px -1px, rgba(0, 0, 0, 0.1) 0px -1px 2px -1px !important;"></span><span class="right-side-rail-dismiss-btn" style="background: rgb(250, 250, 250) !important; position: absolute !important; left: 55px !important; right: 55px !important; top: 605px !important; box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 5px -1px, rgba(0, 0, 0, 0.1) 0px -1px 2px -1px !important;"><svg style="position: absolute !important; top: 0px !important; display: block !important; width: 50px !important; height: 30px !important; margin-top: -5px !important; transform: none !important; pointer-events: initial !important;"><defs><filter id="right-side-rail-drop-shadow" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><fecomponenttransfer in="SourceAlpha" result="TransferredAlpha"><fefuncr type="discrete" tableValues="0.5"></fefuncr><fefuncg type="discrete" tableValues="0.5"></fefuncg><fefuncb type="discrete" tableValues="0.5"></fefuncb></fecomponenttransfer><fegaussianblur in="TransferredAlpha" stdDeviation="2"></fegaussianblur><feoffset dx="0" dy="0" result="offsetblur"></feoffset><femerge><femergenode></femergenode><femergenode in="SourceGraphic"></femergenode></femerge></filter></defs><path d="M5,5 L5,17 A8,8 0 0,0 13,25 L37,25 A8,8 0 0,0 45,17 L45,5 Z" stroke="#FAFAFA" stroke-width="1" fill="#FAFAFA" style="filter: url(&quot;#right-side-rail-drop-shadow&quot;);"></path><rect x="0" y="0" width="50" height="5" style="fill: rgb(250, 250, 250);"></rect><g stroke="#616161" stroke-width="2px" stroke-linecap="square"><line x1="18" y1="18" x2="25" y2="12"></line><line x1="25" y1="12" x2="32" y2="18"></line></g></svg></span></ins><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" data-side-rail-status="idle" data-ad-status="filled" style="display: none !important; z-index: 2147483647 !important; margin: 0px !important; padding: 0px !important; position: fixed !important; left: 248px !important; top: 251px !important; overflow: visible !important; opacity: 0 !important; transition: 500ms ease-in !important;"><div id="aswift_4_host" style="border: none; height: 600px; width: 160px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block;"><iframe id="aswift_4" name="aswift_4" style="width:160px !IMPORTANT;height:600px !IMPORTANT;min-height:auto;max-height:none;min-width:auto;max-width:none;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="160" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allow="attribution-reporting; run-ad-auction" src="./base-R-equivalent-of-dplyr-coalesce-function_files/zrt_lookup_fy2021(1).html" data-google-container-id="a!5" tabindex="0" title="Advertisement" aria-label="Advertisement" data-google-query-id="CI_ntsGPlJIDFSs-iAkd2_sexQ" data-load-complete="true"></iframe></div><span class="left-side-rail-edge" style="background: rgb(250, 250, 250) !important; position: absolute !important; left: 0px !important; top: 600px !important; width: 160px !important; height: 5px !important; box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 5px -1px, rgba(0, 0, 0, 0.1) 0px -1px 2px -1px !important;"></span><span class="left-side-rail-dismiss-btn" style="background: rgb(250, 250, 250) !important; position: absolute !important; left: 55px !important; right: 55px !important; top: 605px !important; box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 5px -1px, rgba(0, 0, 0, 0.1) 0px -1px 2px -1px !important;"><svg style="position: absolute !important; top: 0px !important; display: block !important; width: 50px !important; height: 30px !important; margin-top: -5px !important; transform: none !important; pointer-events: initial !important;"><defs><filter id="left-side-rail-drop-shadow" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><fecomponenttransfer in="SourceAlpha" result="TransferredAlpha"><fefuncr type="discrete" tableValues="0.5"></fefuncr><fefuncg type="discrete" tableValues="0.5"></fefuncg><fefuncb type="discrete" tableValues="0.5"></fefuncb></fecomponenttransfer><fegaussianblur in="TransferredAlpha" stdDeviation="2"></fegaussianblur><feoffset dx="0" dy="0" result="offsetblur"></feoffset><femerge><femergenode></femergenode><femergenode in="SourceGraphic"></femergenode></femerge></filter></defs><path d="M5,5 L5,17 A8,8 0 0,0 13,25 L37,25 A8,8 0 0,0 45,17 L45,5 Z" stroke="#FAFAFA" stroke-width="1" fill="#FAFAFA" style="filter: url(&quot;#left-side-rail-drop-shadow&quot;);"></path><rect x="0" y="0" width="50" height="5" style="fill: rgb(250, 250, 250);"></rect><g stroke="#616161" stroke-width="2px" stroke-linecap="square"><line x1="18" y1="18" x2="25" y2="12"></line><line x1="25" y1="12" x2="32" y2="18"></line></g></svg></span></ins><iframe name="__tcfapiLocator" src="./base-R-equivalent-of-dplyr-coalesce-function_files/saved_resource(7).html" style="display: none; width: 0px; height: 0px; border: none; z-index: -1000; left: -1000px; top: -1000px;"></iframe><iframe name="__uspapiLocator" src="./base-R-equivalent-of-dplyr-coalesce-function_files/saved_resource(8).html" style="display: none; width: 0px; height: 0px; border: none; z-index: -1000; left: -1000px; top: -1000px;"></iframe><iframe name="__gppLocator" src="./base-R-equivalent-of-dplyr-coalesce-function_files/saved_resource(9).html" style="display: none; width: 0px; height: 0px; border: none; z-index: -1000; left: -1000px; top: -1000px;"></iframe><iframe name="googlefcInactive" src="./base-R-equivalent-of-dplyr-coalesce-function_files/saved_resource(10).html" style="display: none; width: 0px; height: 0px; border: none; z-index: -1000; left: -1000px; top: -1000px;"></iframe><iframe name="googlefcLoaded" src="./base-R-equivalent-of-dplyr-coalesce-function_files/saved_resource(11).html" style="display: none; width: 0px; height: 0px; border: none; z-index: -1000; left: -1000px; top: -1000px;"></iframe></body><iframe id="google_esf" name="google_esf" src="./base-R-equivalent-of-dplyr-coalesce-function_files/zrt_lookup_fy2021(2).html" style="display: none;"></iframe><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important; width: 100vw !important; height: 100vh !important; inset: 0px auto auto 0px !important; clear: none !important; float: none !important; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; padding: 0px !important; position: fixed !important; vertical-align: baseline !important; visibility: visible !important; z-index: 2147483647 !important; background: transparent !important;" aria-hidden="true" data-ad-status="filled" data-vignette-loaded="true" tabindex="0"><div id="aswift_2_host" style="border: none !important; height: 100vh !important; width: 100vw !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: inline-block !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;"><iframe id="aswift_2" name="aswift_2" style="min-height: auto !important; max-height: none !important; min-width: auto !important; max-width: none !important; width: 100vw !important; height: 100vh !important; inset: 0px auto auto 0px !important; position: absolute !important; clear: none !important; display: inline !important; float: none !important; margin: 0px !important; opacity: 1 !important; overflow: visible !important; padding: 0px !important; vertical-align: baseline !important; visibility: visible !important; z-index: auto !important;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="" height="" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allow="attribution-reporting; run-ad-auction" src="./base-R-equivalent-of-dplyr-coalesce-function_files/zrt_lookup_fy2021(3).html" data-google-container-id="a!3" tabindex="0" title="Advertisement" aria-label="Advertisement" data-google-query-id="CIvntsGPlJIDFSs-iAkd2_sexQ" data-load-complete="true"></iframe></div></ins></html>